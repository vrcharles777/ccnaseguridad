<chapter type="" id="en2003000000">
<title><content-text>Authentication, Authorization, and Accounting</content-text></title>
<section type="ChapterIntroduction" id="en2003000000">
<title><content-text>Chapter Introduction</content-text></title>
<topic type="" id="en2003000100">
<title><content-text>Chapter Introduction</content-text></title>
<page type="OneColumn" id="en2003000101">
<content-media type="StaticGraphic" id="cm7513053923">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003000000/en2003000100/en2003000101/cm7513053923.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003000000/en2003000100/en2003000101/cm7513053923text.xml"/></content-media>
<content-text><p>A network must be designed to control who is allowed to connect to it and what they are allowed to do when they are connected. These design specifications are identified in the network security policy. The policy specifies how network administrators, corporate users, remote users, business partners, and clients access network resources. The network security policy can also mandate the implementation of an accounting system that tracks who logged in and when, and what they did while logged in. </p> <p>Managing network access using only the user mode or privilege mode password commands is limited and does not scale well. Instead, using the Authentication, Authorization, and Accounting (AAA) protocol provides the necessary framework to enable scalable access security. </p> <p>Cisco IOS routers can be configured to use AAA to access a local username and password database. Using a local username and password database provides greater security than a simple password and is a cost effective and easily implemented security solution. Cisco IOS routers can also be configured to use AAA to access a Cisco Secure Access Control Server (ACS). Using Cisco ACS is very scalable because all infrastructure devices access a central server. The Cisco Secure ACS solution is also fault tolerant because multiple servers can be configured. The Cisco Secure ACS solution is often implemented by large organizations.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en2003010000">
<title><content-text>Purpose of AAA</content-text></title>
<topic type="" id="en2003010100">
<title><content-text>AAA Overview</content-text></title>
<page type="OneColumn" id="en2003010101">
<content-media type="StaticGraphic" id="cm9695675863">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003010000/en2003010100/en2003010101/cm9695675863.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003010000/en2003010100/en2003010101/cm9695675863text.xml"/></content-media>
<content-text><p>Network intruders can potentially gain access to sensitive network equipment and services. To help prevent unwanted access, access control is necessary. Access control limits who or what can use specific resources as well as the services or options available once access is granted. Many types of authentication methods can be performed on a Cisco device, and each method offers varying levels of security.</p> <p>The simplest form of authentication is passwords. This method is configured using a login and password combination on console, and vty lines and aux ports. This method is the easiest to implement, but it is also the weakest and least secure. Password-only logins are very vulnerable to brute-force attacks. Additionally, this method provides no accountability. Anyone with the password can gain entry to the device and alter the configuration.</p> <p>To help provide accountability, local database authentication can be implemented using one of the following commands: </p> <p><span class="cmd"><b>username </b><i>username</i><b> password </b><i>password</i></span></p> <p><span class="cmd"><b>username </b><i>username</i><b> secret </b><i>password</i></span></p> <p>This method creates individual user accounts on each device with a specific password assigned to each user. The local database method provides additional security, because an attacker is required to know a username and a password. It also provides more accountability, because the username is recorded when a user logs in. Keep in mind that the <span class="cmd"><b>username password</b></span> command combination displays the password in plaintext in the configuration file if the <span class="cmd"><b>service password-encryption</b></span> command is not configured. The <span class="cmd"><b>username </b><b>secret</b></span> combination is highly recommended because it provides MD5-style encryption. </p> <p>The local database method has some limitations. The user accounts must be configured locally on each device. In a large enterprise environment that has multiple routers and switches to manage, it can take time to implement and change local databases on each device. Additionally, the local database configuration provides no fallback authentication method. For example, what if the administrator forgets the username and password for that device? No backup method is available for authentication, and password recovery is the only option. </p> <p>A better solution is to have all devices refer to the same database of usernames and passwords from a central server. This chapter explores the various methods of implementing secure network access using Authentication, Authorization, and Accounting (AAA) network security on Cisco routers.</p></content-text>
</page>
<page type="OneColumn" id="en2003010102">
<content-media type="StaticGraphic" id="cm3030298927">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003010000/en2003010100/en2003010102/cm3030298927.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003010000/en2003010100/en2003010102/cm3030298927text.xml"/></content-media>
<content-text><p>AAA network security services provide the primary framework to set up access control on a network device. AAA is a way to control who is permitted to access a network (authenticate), what they can do while they are there (authorize), and to audit what actions they performed while accessing the network (accounting). It provides a higher degree of scalability than the con, aux, vty and privileged EXEC authentication commands alone.</p> <p>Network and administrative AAA security in the Cisco environment has several functional components:</p> <p><ul><li> <b>Authentication </b>- Users and administrators must prove that they are who they say they are. Authentication can be established using username and password combinations, challenge and response questions, token cards, and other methods. For example: "I am user 'student'. I know the password to prove that I am user student."</li><li><b>Authorization </b>- After the user is authenticated, authorization services determine which resources the user can access and which operations the user is allowed to perform. An example is "User 'student' can access host serverXYZ using Telnet only."</li><li><b>Accounting and auditing </b>- Accounting records what the user does, including what is accessed, the amount of time the resource is accessed, and any changes that were made. Accounting keeps track of how network resources are used. An example is "User 'student' accessed host serverXYZ using Telnet for 15 minutes."</li></ul></p> <p>This concept is similar to the use of a credit card. The credit card identifies who can use it, how much that user can spend, and keeps account of what items the user spent money on. </p></content-text>
</page>
</topic>
<topic type="" id="en2003010200">
<title><content-text>AAA Characteristics</content-text></title>
<page type="OneColumn" id="en2003010201">
<content-media type="StaticGraphic" id="cm7872029539">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003010000/en2003010200/en2003010201/cm7872029539.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003010000/en2003010200/en2003010201/cm7872029539text.xml"/></content-media>
<content-text><p><b>AAA Authentication</b></p> <p>AAA can be used to authenticate users for administrative access or it can be used to authenticate users for remote network access. These two access methods use different modes to request AAA services:</p> <p><ul><li><b>Character mode </b>- A user sends a request to establish an EXEC mode process with the router for administrative purposes. </li><li><b>Packet mode - </b>A user sends a request to establish a connection through the router with a device on the network.</li></ul></p> <p>With the exception of accounting commands, all AAA commands apply to both character mode and packet mode. This topic focuses on securing character mode access. For a truly secure network, it is important to also configure the router to secure administrative access and remote LAN network access using AAA services as well.</p> <p>Cisco provides two common methods of implementing AAA services.</p> <p><b>Local AAA Authentication</b></p> <p>Local AAA uses a local database for authentication. This method stores usernames and passwords locally in the Cisco router, and users authenticate against the local database. This database is the same one required for establishing role-based CLI. Local AAA is ideal for small networks. </p> <p><b>Server-Based AAA Authentication</b></p> <p>The server-based method uses an external database server resource that leverages RADIUS or TACACS+ protocols. Examples include Cisco Secure Access Control Server (ACS) for Windows Server, Cisco Secure ACS Solution Engine, or Cisco Secure ACS Express. If there are multiple routers, server-based AAA is more appropriate.</p></content-text>
</page>
<page type="OneColumn" id="en2003010202">
<content-media type="StaticGraphic" id="cm2703830861">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003010000/en2003010200/en2003010202/cm2703830861.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003010000/en2003010200/en2003010202/cm2703830861text.xml"/></content-media>
<content-text><p><b>AAA Authorization</b></p> <p>After users are successfully authenticated against the selected AAA data source (local or server-based), they are then authorized for specific network resources. Authorization is basically what a user can and cannot do on the network after that user is authenticated, similar to how privilege levels and role-based CLI give users specific rights and privileges to certain commands on the router.</p> <p>Authorization is typically implemented using an AAA server-based solution. Authorization uses a created set of attributes that describes the user's access to the network. These attributes are compared to the information contained within the AAA database, and a determination of restrictions for that user is made and delivered to the local router where the user is connected. </p> <p>Authorization is automatic and does not require users to perform additional steps after authentication. Authorization is implemented immediately after the user is authenticated.</p></content-text>
</page>
<page type="OneColumn" id="en2003010203">
<content-media type="StaticGraphic" id="cm9005933029">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003010000/en2003010200/en2003010203/cm9005933029.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003010000/en2003010200/en2003010203/cm9005933029text.xml"/></content-media>
<content-text><p><b>AAA Accounting</b></p> <p>Accounting collects and reports usage data so that it can be employed for purposes such as auditing or billing. The collected data might include the start and stop connection times, executed commands, number of packets, and number of bytes.</p> <p>Accounting is implemented using an AAA server-based solution. This service reports usage statistics back to the ACS server. These statistics can be extracted to create detailed reports about the configuration of the network.</p> <p>One widely deployed use of accounting is combining it with AAA authentication for managing access to internetworking devices by network administrative staff. Accounting provides extra accountability above and beyond authentication. The AAA servers keep a detailed log of exactly what the authenticated user does on the device. This includes all EXEC and configuration commands issued by the user. The log contains numerous data fields, including the username, the date and time, and the actual command that was entered by the user. This information is useful when troubleshooting devices. It also provides leverage against individuals who perform malicious actions. </p></content-text>
</page>
</topic>
</section>
<section type="" id="en2003020000">
<title><content-text>Local AAA Authentication</content-text></title>
<topic type="" id="en2003020100">
<title><content-text>Configuring Local AAA Authentication with CLI</content-text></title>
<page type="OneColumn" id="en2003020101">
<content-media type="StaticGraphic" id="cm7512943434">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003020000/en2003020100/en2003020101/cm7512943434.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003020000/en2003020100/en2003020101/cm7512943434text.xml"/></content-media>
<content-text><p>Local AAA Authentication, also referred to as self-contained authentication, should be configured for smaller networks, such as those with one or two routers providing access to a limited number of users. This method uses the local usernames and passwords stored on a router. The system administrator must populate the local security database by specifying username and password profiles for each user that might log in.</p> <p>The Local AAA Authentication method is similar to using the <span class="cmd"><b>login local</b></span> command with one exception. AAA also provides a way to configure backup methods of authentication. </p> <p>Configuring local AAA services to authenticate administrator access (character mode access) requires a few basic steps.</p> <p><b>Step 1</b>. Add usernames and passwords to the local router database for users that need administrative access to the router.</p> <p><b>Step 2</b>. Enable AAA globally on the router.</p> <p><b>Step 3</b>. Configure AAA parameters on the router.</p> <p><b>Step 4</b>. Confirm and troubleshoot the AAA configuration.</p></content-text>
</page>
<page type="OneColumn" id="en2003020102">
<content-media type="StaticGraphic" id="cm9879590538">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003020000/en2003020100/en2003020102/cm9879590538.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003020000/en2003020100/en2003020102/cm9879590538text.xml"/></content-media>
<content-text><p>To enable AAA, use the <span class="cmd"><b>aaa new-model</b></span> global configuration command. To disable AAA, use the <span class="cmd"><b>no</b></span> form of this command. </p> <p>After AAA is enabled, to configure authentication on vty ports, asynchronous lines (tty), the auxiliary port, or the console port, define a named list of authentication methods and then apply that list to the various interfaces. </p> <p>To define a named list of authentication methods, use the <span class="cmd"><b>aaa authentication login</b></span> command. This command requires a list name and the authentication methods. The list name identifies the list of authentication methods activated when a user logs in. The method list is a sequential list describing the authentication methods to be queried for authenticating a user. Method lists enable an administrator to designate one or more security protocols for authentication. Using more than one protocol provides a backup system for authentication in case the initial method fails.</p> <p>Several keywords can be used to indicate the method. To enable local authentication using a preconfigured local database, use the keyword <span class="cmd"><b>local</b></span> or <span class="cmd"><b>local-case</b></span>. The difference between the two options is that <span class="cmd"><b>local</b></span> accepts a username regardless of case, and <span class="cmd"><b>local-case</b></span> is case-sensitive. To specify that a user can authenticate using the enable password, use the <span class="cmd"><b>enable</b></span> keyword. To ensure that the authentication succeeds even if all methods return an error, specify <span class="cmd"><b>none</b></span> as the final method. For security purposes, use the <span class="cmd"><b>none</b></span> keyword only when testing the AAA configuration. It should never be applied on a live network.</p> <p>For example, the <span class="cmd"><b>enable</b></span> method could be configured as a fallback mechanism in case the username and password is forgotten.</p> <p><span class="cmd"><b>aaa authentication login TELNET-ACCESS local enable none</b></span></p> <p> </p> <p>In this example, an AAA authentication list named TELNET-ACCESS is created that requires users to attempt to authenticate to the router's local user database first. If that attempt returns an error, such as a local user database is not configured, the user can attempt to authenticate by knowing the enable password. Finally, if an enable password is not configured, it allows access to the device without any form of authentication. </p> <p>A minimum of one method and a maximum of four methods can be specified for a single method list. When a user attempts to log in, the first method listed is used. Cisco IOS software attempts authentication with the next listed authentication method only when there is no response or an error from the previous method occurs. If the authentication method denies the user access, the authentication process stops and no other authentication methods are allowed.</p></content-text>
</page>
<page type="OneColumn" id="en2003020103">
<content-media type="StaticGraphic" id="cm8279248844">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003020000/en2003020100/en2003020103/cm8279248844.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003020000/en2003020100/en2003020103/cm8279248844text.xml"/></content-media>
<content-text><p>The defined list of authentication methods must be applied to specific interfaces or lines. For flexibility, different method lists can be applied to different interfaces and lines. For example, an administrator could apply a special login for Telnet and then have a different login method for the line console. To enable a specific list name, use the <span class="cmd"><b>aaa login authentication </b><i>list-name</i></span> command in line configuration mode. </p> <p>The option also exists to configure a default list name. When AAA is first enabled, the default method list named "default" is automatically applied to all interfaces and lines, but it has no authentication methods defined. To assign multiple authentication methods to the default list, use the command <span class="cmd"><b>aaa authentication login default </b><i>method1...</i> [<i>method4</i>]</span>.</p> <p>The authentication methods in the <b>default</b> list are used by default on all lines, unless a custom authentication method list is created. If an interface or line has a nondefault method list applied to it, that method overrides the default method list for that interface. If the <b>default</b> list is not set and there is no other list, only the local user database is checked. This has the same effect as the command <span class="cmd"><b>aaa authentication login default local</b></span>. On the console, login succeeds without any authentication checks if <b>default</b> is not set.</p> <p>Once a custom authentication method-list is applied to an interface, it is possible to return to the default method list by using the <span class="cmd"><b>no aaa authentication login </b><i>list-name</i></span> command. If the default list has not been defined, then AAA authentication does not occur.</p></content-text>
</page>
<page type="OneColumn" id="en2003020104">
<content-media type="StaticGraphic" id="cm8661503082">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003020000/en2003020100/en2003020104/cm8661503082.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003020000/en2003020100/en2003020104/cm8661503082text.xml"/></content-media>
<content-text><p>Additional security can be implemented on the line using the <span class="cmd"><b>aaa local authentication attempts max-fail </b><i>number-of-unsuccessful-attempts</i></span> command in global configuration mode. This command secures AAA user accounts by locking out accounts that have excessive failed attempts. To remove the number of unsuccessful attempts that was set, use the <span class="cmd"><b>no</b></span> form of this command.</p> <p>To display a list of all locked-out users, use the <span class="cmd"><b>show aaa local user lockout</b></span> command in privileged EXEC mode. Use the <span class="cmd"><b>clear aaa local user lockout</b> {<b>username </b><i>username</i> |<b> all</b>}</span> command in privileged EXEC mode to unlock a specific user or to unlock all locked users.</p> <p>The <span class="cmd"><b>aaa local authentication attempts max-fail</b></span> command differs from the <span class="cmd"><b>login delay</b></span> command in how it handles failed attempts. The <span class="cmd"><b>aaa local authentication attempts max-fail</b></span> command locks the user account if the authentication fails. This account stays locked until it is cleared by an administrator. The <span class="cmd"><b>login delay</b></span> command introduces a delay between failed login attempts without locking the account.</p> <p>When a user logs into a Cisco router and uses AAA, a unique ID is assigned to the session. Throughout the life of the session, various attributes that are related to the session are collected and stored internally within the AAA database. These attributes can include the IP address of the user, the protocol that is used to access the router, such as PPP or Serial Line Internet Protocol (SLIP), the speed of the connection, and the number of packets or bytes that are received or transmitted.</p> <p>To display the attributes that are collected for an AAA session, use the <span class="cmd"><b>show aaa user </b>{<b>all</b> | <i>unique id</i>}</span> command in privileged EXEC mode. This command does not provide information for all users who are logged into a device, but only for those who have been authenticated or authorized using AAA or whose sessions are being accounted for by the AAA module.</p> <p>The <span class="cmd"><b>show aaa sessions</b></span> command can be used to show the unique ID of a session.</p></content-text>
</page>
</topic>
<topic type="" id="en2003020200">
<title><content-text>Configuring Local AAA Authentication with SDM</content-text></title>
<page type="OneColumn" id="en2003020201">
<content-media type="StaticGraphic" id="cm7915365347">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003020000/en2003020200/en2003020201/cm7915365347.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003020000/en2003020200/en2003020201/cm7915365347text.xml"/></content-media>
<content-text><p>AAA is enabled by default in Cisco SDM, but it is a good idea to confirm that is currently enabled. To verify the AAA configuration and to enable or disable AAA, choose <b>Configure > Additional Tasks > AAA</b>.</p> <p>If the <b>Disable AAA</b> button is clicked, Cisco SDM displays an informational message stating that it will make configuration changes to ensure that the router can be accessed after AAA is disabled.</p></content-text>
</page>
<page type="OneColumn" id="en2003020202">
<content-media type="StaticGraphic" id="cm7212018741">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003020000/en2003020200/en2003020202/cm7212018741.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003020000/en2003020200/en2003020202/cm7212018741text.xml"/></content-media>
<content-text><p>The first task when using SDM to configure AAA services for local authentication is to create users:</p> <p><b>Step 1.</b> Choose <b>Configure > Additional Tasks > Router Access > User Accounts/View</b>.</p> <p><b>Step 2.</b> Click <b>Add</b> to add a new user.</p> <p><b>Step 3.</b> In the Add an Account window, enter the username and password in the appropriate fields to define the user account.</p> <p><b>Step 4.</b> From the Privilege Level drop-down list, choose <b>15</b>, unless there are lesser privilege levels defined.</p> <p><b>Step 5.</b> If views have been defined, check the <b>Associate a View with the User </b>check box and choose a view from the View Name list that is associated with a user. </p> <p><b>Step 6.</b> Click <b>OK</b>.</p> <p>The CLI command that Cisco SDM generates is <span class="cmd"><b>username AAAadmin privilege 15 secret 5 $1$f16u$uKOO6J/UnojZ0bCEzgnQi1 view root</b></span>.</p></content-text>
</page>
<page type="OneColumn" id="en2003020203">
<content-media type="StaticGraphic" id="cm8006599591">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003020000/en2003020200/en2003020203/cm8006599591.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003020000/en2003020200/en2003020203/cm8006599591text.xml"/></content-media>
<content-text><p>To configure AAA authentication, an administrator must first either define a list of authentication methods for the default method or configure a named method list and apply it. Different method lists can be created and applied to different interfaces or lines.</p> <p>Configure the default method list for login authentication using the local database:</p> <p><b>Step 1.</b> Choose <b>Configure > Additional Tasks > AAA > Authentication Policies > Login</b> and click <b>Add</b>.</p> <p><b>Step 2.</b> In the Add a Method List for Authentication Login window, verify that <b>Default </b>is selected in the Name drop-down list.</p> <p><b>Step 3.</b> Click <b>Add</b>.</p> <p><b>Step 4.</b> From the Select Method List(s) for Authentication Login window, choose <b>local </b>from the method list.</p> <p><b>Step 5.</b> Click <b>OK</b>.</p> <p>The CLI command that Cisco SDM generates is <span class="cmd"><b>aaa authentication login default local</b></span>.</p></content-text>
</page>
</topic>
<topic type="" id="en2003020300">
<title><content-text>Troubleshooting Local AAA Authentication</content-text></title>
<page type="OneColumn" id="en2003020301">
<content-media type="StaticGraphic" id="cm3048020632">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003020000/en2003020300/en2003020301/cm3048020632.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003020000/en2003020300/en2003020301/cm3048020632text.xml"/></content-media>
<content-text><p>The Cisco router has debug commands that are useful for troubleshooting authentication issues. The <span class="cmd"><b>debug aaa</b></span> command contains several keywords that can be used for this purpose. Of special interest is the <span class="cmd"><b>debug aaa authentication</b></span> command.</p> <p>The best time to understand debug output is when everything is working properly. Knowing how debug output displays when all is well helps identify problems when things are not working properly. Exercise caution when using the <span class="cmd"><b>debug</b></span> command in a production environment because these commands place a significant load on router resources and can affect network performance.</p></content-text>
</page>
<page type="OneColumn" id="en2003020302">
<content-media type="StaticGraphic" id="cm5037995655">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003020000/en2003020300/en2003020302/cm5037995655.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003020000/en2003020300/en2003020302/cm5037995655text.xml"/></content-media>
<content-text><p>The <span class="cmd"><b>debug aaa authentication</b></span> command is instrumental when troubleshooting AAA problems. To disable this command, use the <span class="cmd"><b>no</b></span> form of the command or the all-encompassing <span class="cmd"><b>undebug all</b></span> statement.</p> <p>Look specifically for GETUSER and GETPASS status messages. The Method message is also helpful when identifying which method list is being referenced.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en2003030000">
<title><content-text>Server-Based AAA</content-text></title>
<topic type="" id="en2003030100">
<title><content-text>Server-Based AAA Characteristics</content-text></title>
<page type="OneColumn" id="en2003030101">
<content-media type="StaticGraphic" id="cm1524415836">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030100/en2003030101/cm1524415836.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030100/en2003030101/cm1524415836text.xml"/></content-media>
<content-text><p>Local implementations of AAA do not scale well. Most corporate environments have multiple Cisco routers with multiple router administrators and hundreds or thousands of users needing access to the corporate LAN. Maintaining local databases for each Cisco router for this size of network is not feasible.</p> <p>To solve this challenge, one or more AAA servers, such as Cisco Secure ACS, can be used to manage the user and administrative access needs for an entire corporate network. Cisco Secure ACS can create a central user and administrative access database that all devices in the network can access. It can also work with many external databases, including Active Directory and Lightweight Directory Access Protocol (LDAP). These databases store user account information and passwords, allowing for central administration of user accounts.</p></content-text>
</page>
<page type="OneColumn" id="en2003030102">
<content-media type="StaticGraphic" id="cm4780982769">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030100/en2003030102/cm4780982769.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030100/en2003030102/cm4780982769text.xml"/></content-media>
<content-text><p>The Cisco Secure ACS family of products supports both Terminal Access Control Access Control Server Plus (TACACS+) and Remote Dial-in User Services (RADIUS) protocols, which are the two predominant protocols used by Cisco security appliances, routers, and switches for implementing AAA. </p> <p>While both protocols can be used to communicate between client and AAA servers, TACACS+ is considered the more secure protocol. This is because all TACACS + protocol exchanges are encrypted; Radius only encrypts the user password. It does not encrypt user names, accounting information, or any other information carried in the radius message.</p></content-text>
</page>
</topic>
<topic type="" id="en2003030200">
<title><content-text>Server-Based AAA Communication Protocols</content-text></title>
<page type="OneColumn" id="en2003030201">
<content-media type="StaticGraphic" id="cm7088477924">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030200/en2003030201/cm7088477924.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030200/en2003030201/cm7088477924text.xml"/></content-media>
<content-text><p>TACACS+ and RADIUS are both authentication protocols. Each supports different capabilities and functionality. Whether TACACS+ or RADIUS is selected depends on the needs of the organization. For example, a large ISP might select RADIUS because it supports detailed accounting required for billing users. An organization with various user groups might select TACACS+ because it requires select authorization policies to be applied on a per-user or per-group basis. </p> <p>It is important to understand the many differences between the TACACS+ and RADIUS protocols.</p> <p>Critical factors for TACACS+ include:</p> <p><ul><li>Is incompatible with TACACS and XTACACS</li><li>Separates authentication and authorization</li><li>Encrypts all communication</li><li>Utilizes TCP port 49</li></ul></p> <p>Critical factors for Radius include:</p> <p><ul><li>Uses RADIUS proxy servers for scalability</li><li>Combines RADIUS authentication and authorization as one process.</li><li>Encrypts only the password</li><li>Utilizes UDP</li><li>Supports remote-access technologies, 802.1X, and SIP</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en2003030202">
<content-media type="StaticGraphic" id="cm3779571741">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030200/en2003030202/cm3779571741.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030200/en2003030202/cm3779571741text.xml"/></content-media>
<content-text><p>TACACS+ is a Cisco enhancement to the original TACACS protocol. Despite its name, TACACS+ is an entirely new protocol that is incompatible with any previous version of TACACS. TACACS+ is supported by the Cisco family of routers and access servers as part of maintenance Cisco IOS Release 10.3. Cisco is currently presenting TACACS+ to the IETF working groups and is contributing to and adopting the emerging protocol standards.</p> <p>TACACS+ provides separate AAA services. Separating the AAA services provides flexibility in implementation, because it is possible to use TACACS+ for authorization and accounting while using another method of authentication.</p> <p>The extensions to the TACACS+ protocol provide more types of authentication requests and response codes than were in the original TACACS specification. TACACS+ offers multiprotocol support, such as IP and AppleTalk. Normal TACACS+ operation encrypts the entire body of the packet for more secure communications and utilizes TCP port 49.</p></content-text>
</page>
<page type="OneColumn" id="en2003030203">
<content-media type="StaticGraphic" id="cm3764729241">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030200/en2003030203/cm3764729241.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030200/en2003030203/cm3764729241text.xml"/></content-media>
<content-text><p>RADIUS, developed by Livingston Enterprises, is an open IETF standard AAA protocol for applications such as network access or IP mobility. RADIUS works in both local and roaming situations and is commonly used for accounting purposes. RADIUS is currently defined by RFCs 2865, 2866, 2867, and 2868.</p> <p>The RADIUS protocol hides passwords during transmission, even with the Password Authentication Protocol (PAP), using a rather complex operation that involves Message Digest 5 (MD5) hashing and a shared secret. However, the rest of the packet is sent in plaintext.</p> <p>RADIUS combines authentication and authorization as one process. When a user is authenticated, that user is also authorized. RADIUS uses UDP port 1645 or 1812 for authentication and UDP port 1646 or 1813 for accounting.</p> <p>RADIUS is widely used by VoIP service providers. It passes login credentials of a session initiation protocol (SIP) endpoint, such as a broadband phone, to a SIP Registrar using digest authentication, and then to a RADIUS server using RADIUS. RADIUS is also a common authentication protocol that is utilized by the 802.1X security standard.</p> <p>The DIAMETER protocol is the planned replacement for RADIUS. DIAMETER uses a new transport protocol called Stream Control Transmission Protocol (SCTP) and TCP instead of UDP.</p></content-text>
</page>
</topic>
<topic type="" id="en2003030300">
<title><content-text>Cisco Secure ACS</content-text></title>
<page type="OneColumn" id="en2003030301">
<content-media type="StaticGraphic" id="cm2633335031">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030300/en2003030301/cm2633335031.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030300/en2003030301/cm2633335031text.xml"/></content-media>
<content-text><p>Many enterprise-level authentication servers are on the market today. Funk's Steel-Belted RADIUS server, Livingston Enterprises' RADIUS Authentication Billing Manager, and Merit Networks' RADIUS servers are well known. While these are reputable companies with popular products, they lack the ability to combine both the TACACS+ and RADIUS protocols into a single solution. Fortunately, the Cisco Secure ACS for Windows Server (ACS) is a single solution that offers AAA for both TACACS+ and RADIUS. </p> <p>Cisco Secure ACS is a highly scalable, high-performance access control server that can be leveraged to control administrator access and configuration for all network devices in a network supporting RADIUS or TACACS+ or both. Cisco Secure ACS offers several benefits:</p> <p><ul><li>Extends access security by combining authentication, user access, and administrator access with policy control within a centralized identity networking solution.</li><li>Allows greater flexibility and mobility, increased security, and user-productivity gains.</li><li>Enforces a uniform security policy for all users, regardless of how they access the network.</li><li>Reduces the administrative and management burden when scaling user and network administrator access to the network.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en2003030302">
<content-media type="StaticGraphic" id="cm7725055578">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030300/en2003030302/cm7725055578.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030300/en2003030302/cm7725055578text.xml"/></content-media>
<content-text><p>Cisco Secure ACS uses a central database. It centralizes the control of all user privileges and distributes them to access points throughout the network. Cisco Secure ACS provides detailed reporting and monitoring capabilities of user behavior, access connections, and device configuration changes. This feature is extremely important for organizations trying to comply with various government regulations. Cisco Secure ACS supports a broad variety of access connections, including wired and wireless LAN, dialup, broadband, content, storage, VoIP, firewalls, and virtual private networks (VPNs).</p> <p>Cisco Secure ACS provides a variety of advanced features:</p> <p><ul><li>Automatic service monitoring</li><li>Database synchronization and importing of tools for large-scale deployments</li><li>LDAP user authentication support</li><li>User and administrative access reporting</li><li>Restrictions to network access based on criteria such as the time of day and the day of week</li><li>User and device group profiles</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en2003030303">
<content-media type="StaticGraphic" id="cm9907558354">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030300/en2003030303/cm9907558354.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030300/en2003030303/cm9907558354text.xml"/></content-media>
<content-text><p>Cisco Secure ACS is an important component of the Cisco Identity Based Networking Services (IBNS) architecture. Cisco IBNS is based on port-security standards such as IEEE 802.1X and Extensible Authentication Protocol (EAP), and extends security from the perimeter of the network to every connection point inside the LAN. New policy control, such as per-user quotas, VLAN assignments, and access control lists (ACLs) can be deployed within this new architecture. This is due to the extended capabilities of Cisco switches and wireless access points to query Cisco Secure ACS over the RADIUS protocol.</p> <p>Cisco Secure ACS is also an important component of Cisco Network Admission Control (NAC). Cisco NAC is an industry initiative sponsored by Cisco. Cisco NAC uses the network infrastructure to enforce security-policy compliance on all devices seeking to access network computing resources. This limits damage from viruses and worms. With Cisco NAC, customers can choose to allow network access only to compliant and trusted endpoint devices and restrict the access of noncompliant devices. NAC is part of the Cisco Self-Defending Network initiative and is the foundation for enabling NAC on Layer 2 and Layer 3 networks. Future phases extend endpoint and network security interoperation to include dynamic incident-containment capabilities. This innovation enables compliant system elements to report misuse emanating from rogue or infected systems during an attack. Infected systems can be dynamically quarantined from the rest of the network to significantly reduce virus, worm, and blended threat propagation.</p></content-text>
</page>
<page type="OneColumn" id="en2003030304">
<content-media type="StaticGraphic" id="cm6914762161">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030300/en2003030304/cm6914762161.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030300/en2003030304/cm6914762161text.xml"/></content-media>
<content-text><p>Cisco Secure ACS has many high-performance and scalability features: </p> <p><ul><li><b>Ease of use </b>- A web-based user interface simplifies and distributes the configuration for user profiles, group profiles, and Cisco Secure ACS configuration.</li><li><b>Scalability </b>- Cisco Secure ACS is built to provide large networked environments with support for redundant servers, remote databases, and database replication and backup services.</li><li><b>Extensibility </b>- LDAP authentication forwarding supports the authentication of user profiles that are stored in directories from leading directory vendors, including Sun, Novell, and Microsoft.</li><li><b>Management </b>- Microsoft Windows Active Directory support consolidates Windows username and password management and uses the Windows Performance Monitor for real-time statistics viewing.</li><li><b>Administration </b>- Different access levels for each Cisco Secure ACS administrator and the ability to group network devices together make it easier and more flexible to control the enforcement and changes of security policy administration for all devices in a network.</li><li><b>Product flexibility </b>- Because Cisco IOS software has embedded support for AAA, Cisco Secure ACS can be used across virtually any network access server that Cisco sells (the Cisco IOS software release must support RADIUS or TACACS+). Cisco Secure ACS is available in three options: Cisco Secure ACS Solution Engine, Cisco Secure ACS Express, and Cisco Secure ACS for Windows.</li><li><b>Integration </b>- Tight coupling with Cisco IOS routers and VPN solutions provides features such as multichassis multilink PPP and Cisco IOS software command authorization.</li><li><b>Third-party support </b>- Cisco Secure ACS offers token server support for any one-time password (OTP) vendor that provides an RFC-compliant RADIUS interface, such as RSA, PassGo, Secure Computing, ActiveCard, Vasco, or CryptoCard.</li><li><b>Control </b>- Cisco Secure ACS provides dynamic quotas to restrict access based on the time of day, network use, number of logged sessions, and the day of the week.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en2003030305">
<content-media type="StaticGraphic" id="cm1072225586">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030300/en2003030305/cm1072225586.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030300/en2003030305/cm1072225586text.xml"/></content-media>
<content-text><p>Cisco Secure ACS is available as software installed on a Windows Server or on a 1U, rack-mountable, security-hardened server, such as ACS Solution Engine or ACS Express. All are server-based examples of providing AAA services using a remote security database. </p> <p>The Cisco Secure ACS for Windows option enables the AAA services on a router to contact an external Cisco Secure ACS installed on a Windows server system for user and administrator authentication.</p> <p>Cisco Secure ACS Solution Engine is a 1U rack-mountable unit, security-hardened appliance with a pre-installed Cisco Secure ACS license. It should be used in large organizations where more than 350 users need to be supported. Compared to the Cisco Secure ACS for Windows product, Cisco Secure ACS Solution Engine reduces the total cost of ownership by eliminating the need to install and maintain a Microsoft Windows server machine.</p> <p>Cisco Secure ACS Express is also a 1U rack-mountable unit, security-hardened appliance with a pre-installed Cisco Secure ACS Express license. The difference is that the ACS Express option is intended for commercial (less than 350 users), retail, and enterprise branch office deployments. ACS Express offers a comprehensive yet simplified feature set, a user-friendly GUI, and a lower price point that allows administrators to deploy this product in situations where Cisco Secure ACS for Windows Server or Cisco Secure ACS Solution Engine might not be suitable. </p> <p>While this chapter focuses on deploying Cisco Secure ACS for Windows Server, the concepts and features discussed are also available on the ACS Solution Engine and ACS Express.</p></content-text>
</page>
</topic>
<topic type="" id="en2003030400">
<title><content-text>Configuring Cisco Secure ACS</content-text></title>
<page type="OneColumn" id="en2003030401">
<content-media type="StaticGraphic" id="cm9232425725">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030400/en2003030401/cm9232425725.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030400/en2003030401/cm9232425725text.xml"/></content-media>
<content-text><p>Before installing Cisco Secure ACS, it is important to prepare the server. Third-party software requirements and the network and port requirements of the server and AAA devices must be considered.</p> <p><b>Third-Party Software Requirements</b></p> <p>Software products that are mentioned in the release notes are supported for interoperability by Cisco. Support for interoperability issues with software products that are not mentioned in the release notes might be difficult to attain. The most recent version of the Cisco Secure ACS release notes are posted on Cisco.com.</p> <p>Keep in mind that in the Cisco Secure ACS application, a client is a router, switch, firewall, or VPN concentrator that uses the services of the server.</p> <p><b>Network and Port Prerequisites</b></p> <p>The network should meet specified requirements before administrators begin deploying Cisco Secure ACS:</p> <p><ul><li>For full TACACS+ and RADIUS support on Cisco IOS devices, AAA clients must run Cisco IOS Release 11.2 or later.</li><li>Cisco devices that are not Cisco IOS AAA clients must be configured with TACACS+, RADIUS, or both.</li><li>Dial-in, VPN, or wireless clients must be able to connect to the applicable AAA clients.</li><li>The computer running Cisco Secure ACS must be able to reach all AAA clients using ping.</li><li>Gateway devices between the Cisco Secure ACS and other network devices must permit communication over the ports that are needed to support the applicable feature or protocol.</li><li>A supported web browser must be installed on the computer running Cisco Secure ACS. For the most recent information about tested browsers, see the release notes for the Cisco Secure ACS product on Cisco.com.</li><li>All NICs in the computer running Cisco Secure ACS must be enabled. If there is a disabled network card on the computer running Cisco Secure ACS, installing Cisco Secure ACS might proceed slowly because of delays caused by the Microsoft CryptoAPI.</li></ul></p> <p>After successfully installing Cisco Secure ACS, some initial configuration must be performed. The only way to configure a Cisco Secure ACS server is through an HTML interface.</p> <p>To access the Cisco Secure ACS HTML interface from the computer that is running Cisco Secure ACS, use the Cisco Secure icon labeled ACS Admin that appears on the desktop or enter the following URL into a supported web browser: http://127.0.0.1:2002.</p> <p>The Cisco Secure ACS can also be accessed remotely after an administrator user account is configured. To remotely access the Cisco Secure ACS, enter <span class="cmd">http://ip_address[hostname]:2002</span>. After the initial connection, a different port is dynamically negotiated.</p></content-text>
</page>
<page type="OneColumn" id="en2003030402">
<content-media type="StaticGraphic" id="cm7785134141">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030400/en2003030402/cm7785134141.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030400/en2003030402/cm7785134141text.xml"/></content-media>
<content-text><p>The home page of Cisco Secure ACS is divided into frames. The buttons on the navigation bar represent particular areas or functions that can be configured:</p> <p><ul><li><b>User Setup</b></li><li><b>Group Setup</b></li><li><b>Shared Profile Components</b> </li><li><b>Network Configuration</b></li><li><b>System Configuration</b></li><li><b>Interface Configuration</b></li><li><b>Administration Control</b></li><li><b>External User Databases</b></li><li><b>Posture Validation</b></li><li><b>Network Access Profiles</b></li><li><b>Reports and Activity</b></li><li><b>Online Documentation</b></li></ul></p> <p>If the RADIUS options are not displayed, the AAA client that uses the RADIUS protocol must be added. Additionally, the interface configuration is directly affected by the settings in the network configuration.</p></content-text>
</page>
<page type="OneColumn" id="en2003030403">
<content-media type="StaticGraphic" id="cm2698910977">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030400/en2003030403/cm2698910977.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030400/en2003030403/cm2698910977text.xml"/></content-media>
<content-text><p>Before configuring a router, switch, or firewall as a TACACS+ or RADIUS client, the AAA client to the server must be added and the IP address and encryption key specified. The Network Configuration page is where the AAA clients are added, deleted, or modified.</p> <p>To create an AAA client, use the Network Configuration page:</p> <p><b>Step 1.</b> Click <b>Network Configuration </b>on the navigation bar. The Network Configuration page appears.</p> <p><b>Step 2.</b> In the AAA Clients section, click <b>Add Entry</b>.</p> <p><b>Step 3. </b>Enter the client host name in the AAA Client Hostname field. For example, enter the name of the router that will be a AAA client to the server. In the Cisco Secure ACS application, a client is a router, switch, firewall, or VPN concentrator that uses the services of the server. </p> <p><b>Step 4. </b>Enter the IP address in the AAA Client IP Address field.</p> <p><b>Step 5. </b>Enter the secret key that the client uses for encryption in the Shared Secret field.</p> <p><b>Step 6. </b>Choose the appropriate AAA protocol from the Authenticate Using drop-down list.</p> <p><b>Step 7. </b>Complete other parameters as required.</p> <p><b>Step 8. </b>Click <b>Submit and Apply</b>.</p> <p>The options that are available from the Interface Configuration navigation button allow the administrator to control the display of options in the user interface. The specific options displayed depend on whether TACACS+ or RADIUS clients have been added to the server:</p> <p><ul><li>User Data Configuration</li><li>TACACS+ (Cisco IOS)</li><li>RADIUS (Microsoft)</li><li>RADIUS (Ascend)</li><li>RADIUS (IETF)</li><li>RADIUS (IOS/PIX)</li><li>Advanced Options</li></ul></p> <p>The User Data Configuration link enables administrators to customize the fields that appear in the user setup and configuration windows. Administrators can add fields such as phone number, work location, supervisor name, or any other pertinent information.</p> <p>The TACACS+ (Cisco IOS) link enables the administrator to configure TACACS+ settings as well as add new TACACS+ services. Administrators can also configure advanced options that affect what is displayed in the user interface.</p></content-text>
</page>
<page type="OneColumn" id="en2003030404">
<content-media type="StaticGraphic" id="cm2891655973">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030400/en2003030404/cm2891655973.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030400/en2003030404/cm2891655973text.xml"/></content-media>
<content-text><p>Cisco Secure ACS can be configured to forward authentication of users to one or more external user databases. Support for external user databases means that Cisco Secure ACS does not require duplicate user entries to be created in the Cisco Secure user database. In organizations in which a substantial user database already exists, such as an Active Directory environment, Cisco Secure ACS can leverage the work already invested in building the database without any additional input.</p> <p>For most database configurations, except for Windows databases, Cisco Secure ACS supports only one instance of a username and password. If Cisco Secure ACS is configured to use multiple user databases with common usernames stored in each, be careful with the database configurations. The first database to match the authentication credentials of the user is the only one that Cisco Secure ACS uses for that user. It is for this reason that it is recommended that there be only one instance of a username in all the external databases.</p> <p>Use the External User Databases button to configure Cisco Secure ACS to access external databases:</p> <p><b>Step 1.</b> Click the <b>External User Databases</b> button from the navigation bar. The External User Databases window appears with the following links:</p> <p><ul><li><b>Unknown User Policy </b>- Configures the authentication procedure for users that are not located in the Cisco Secure ACS database.</li><li><b>Database Group Mappings </b>- Configures what group privileges external database users inherit when Cisco Secure ACS authenticates them. In most cases, when a user is authenticated by an external user database, the actual privileges are drawn from Cisco Secure ACS and not the external database.</li><li><b>Database Configuration </b>- Defines the external servers that Cisco Secure ACS works with.</li></ul></p> <p><b>Step 2.</b> Click <b>Database Configuration</b>. The External User Database Configuration pane appears, displaying the following options:</p> <p><ul><li>RSA SecurID Token Server</li><li>RADIUS Token Server</li><li>External ODBC Database</li><li>Windows Database</li><li>LEAP Proxy RADIUS Server</li><li>Generic LDAP</li></ul></p> <p><b>Step 3.</b> To use the Windows database as an external database, click <b>Windows Database</b>. The Windows External User Database Configuration pane appears.</p> <p>The Windows external database configuration has more options than other external database configurations. Because Cisco Secure ACS is native to the Windows operating system, administrators can configure additional functionality on the Windows External User Database Configuration pane.</p> <p><b>Step 4.</b> To configure the additional Windows database functionality, click <b>Configure </b>from the External User Database Configuration pane. The Windows User Database Configuration window appears.</p> <p><b>Step 5.</b> If more control over who is able to authenticate to the network is required, the Dialin permission option can also be configured. In the Dialin Permission section, check the <b>Verify that "Grant dialin permission to user" setting has been enabled from within the Windows User Manager for users configured for Windows User Database authentication</b> check box. Also make sure that the <b>Grant dialin permission</b> check box is checked in the Windows profile within Windows Users Manager.</p> <p>The Dialin Permissions option of Cisco Secure ACS applies to more than just the dialup connections. If a user has this option enabled, it applies to any access that user tries to make. </p> <p>Another option that can be configured using the Windows external database is mapping databases to domains. Mapping allows an administrator to have the same username across different domains, all with different passwords.</p></content-text>
</page>
</topic>
<topic type="" id="en2003030500">
<title><content-text>Configuring Cisco Secure ACS Users and Groups</content-text></title>
<page type="OneColumn" id="en2003030501">
<content-media type="StaticGraphic" id="cm1368108705">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030500/en2003030501/cm1368108705.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030500/en2003030501/cm1368108705text.xml"/></content-media>
<content-text><p>After Cisco Secure ACS is configured to communicate with an external user database, it can be configured to authenticate users with the external user database in one of two ways:</p> <p><ul><li><b>By specific user assignment - </b>Authenticate specific users with an external user database.</li><li><b>By unknown user policy - </b>Use an external database to authenticate users not found in the Cisco Secure user database. This method does not require administrators to define users in the Cisco Secure user database.</li></ul></p> <p>Use the External User Databases link to configure the unknown user policy:</p> <p><b>Step 1.</b> In the navigation bar, click <b>External User Databases</b>.</p> <p><b>Step 2.</b> Click <b>Unknown User Policy</b>.</p> <p><b>Step 3. </b>Enable the Unknown User Policy by checking the box in the Unknown User Policy section. </p> <p><b>Step 4.</b> For each database that administrators want Cisco Secure ACS to use when attempting to authenticate unknown users, choose the database in the External Databases list and click the right arrow button to move it to the Selected Databases list. To remove a database from the Selected Databases list, choose the database, and then click the left arrow button to move it back to the External Databases list.</p> <p><b>Step 5.</b> To assign the order in which Cisco Secure ACS checks the selected external databases when attempting to authenticate an unknown user, click a database name in the Selected Databases list and click <b>Up</b> or <b>Down</b> to move it into the desired position. Place the databases that are most likely to authenticate unknown users at the top of the list.</p> <p><b>Step 6.</b> Click <b>Submit</b>.</p></content-text>
</page>
<page type="OneColumn" id="en2003030502">
<content-media type="StaticGraphic" id="cm6968141792">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030500/en2003030502/cm6968141792.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030500/en2003030502/cm6968141792text.xml"/></content-media>
<content-text><p>After a user is authenticated to an external database, the authorization that takes place is determined by Cisco Secure ACS. This can complicate things because users that are authenticated by a Windows server might require different authorization than users that are authenticated by the LDAP server.</p> <p>Because of this potential need for different authorizations, place users that are authenticated by the Windows server in one group and users that are authenticated by the LDAP server in another group. To do this, use database group mappings. </p> <p>Database group mappings enable an administrator to map an authentication server, such as LDAP, Windows, ODBC, and so on, to a group that has been configured in Cisco Secure ACS. For some databases, a user can belong to only one group. For other databases, such as LDAP and Windows, support for group mapping by external database group membership is possible.</p> <p>One of the things that can be configured in a group setup is per group command authorization, which uses Cisco Secure ACS to authorize which router commands the users that belong to a group can execute. For example, a group can be permitted to execute any router commands except <span class="cmd"><b>show running-config</b></span>.</p> <p><b>Step 1.</b> Click <b>Group Setup</b> in the navigation bar.</p> <p><b>Step 2.</b> Choose the group to edit, the Default Group for example, and click <b>Edit Settings</b>.</p> <p><b>Step 3.</b> Click <b>Permit</b> in the Unmatched Cisco IOS commands option.</p> <p><b>Step 4.</b> Check the <b>Command</b> check box and enter <b>show</b> in the text box. In the Arguments text box, enter <b>deny running-config</b>.</p> <p><b>Step 5.</b> For the Unlisted Arguments option, click <b>Permit</b>.</p></content-text>
</page>
<page type="OneColumn" id="en2003030503">
<content-media type="StaticGraphic" id="cm7634369416">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003030000/en2003030500/en2003030503/cm7634369416.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003030000/en2003030500/en2003030503/cm7634369416text.xml"/></content-media>
<content-text><p>Adding a user account and configuring user access is a critical task for Cisco Secure ACS:</p> <p><b>Step 1.</b> Click <b>User Setup</b> in the navigation bar.</p> <p><b>Step 2.</b> Enter a username in the User field and click <b>Add/Edit</b>.</p> <p><b>Step 3.</b> In the Edit pane, enter data in the fields to define the user account. Some of the likely needed fields are the user password fields, TACACS+ enable control, TACACS+ enable password, and TACACS+ shell authorized commands.</p> <p><b>Step 4.</b> Click <b>Submit</b>.</p> <p>If there are necessary user properties that you do not see, verify the interface configuration. To modify the user interface, choose <b>Interface Configuration > User Data Configuration</b>. </p></content-text>
</page>
</topic>
</section>
<section type="" id="en2003040000">
<title><content-text>Server-Based AAA Authentication</content-text></title>
<topic type="" id="en2003040100">
<title><content-text>Configuring Server-Based AAA Authentication with CLI</content-text></title>
<page type="OneColumn" id="en2003040101">
<content-media type="StaticGraphic" id="cm5150607121">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003040000/en2003040100/en2003040101/cm5150607121.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003040000/en2003040100/en2003040101/cm5150607121text.xml"/></content-media>
<content-text><p>Unlike Local AAA Authentication, server-based AAA must identify various TACACS+ and RADIUS servers that the AAA service should consult when authenticating and authorizing users. </p> <p>There are a few basic steps to configure server-based authentication:</p> <p><b>Step 1.</b> Globally enable AAA to allow the use of all AAA elements. This step is a prerequisite for all other AAA commands. </p> <p><b>Step 2.</b> Specify the Cisco Secure ACS that will provide AAA services for the router. This can be a TACACS+ or RADIUS server.</p> <p><b>Step 3.</b> Configure the encryption key needed to encrypt the data transfer between the network access server and Cisco Secure ACS.</p> <p><b>Step 4.</b> Configure the AAA authentication method list to refer to the TACACS+ or RADIUS server. For redundancy, it is possible to configure more than one server.</p></content-text>
</page>
<page type="OneColumn" id="en2003040102">
<content-media type="StaticGraphic" id="cm5875600106">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003040000/en2003040100/en2003040102/cm5875600106.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003040000/en2003040100/en2003040102/cm5875600106text.xml"/></content-media>
<content-text><p><b>Configure a TACACS+ Server and Encryption Key</b></p> <p>To configure a TACACS+ server, use the <span class="cmd"><b>tacacs-server host </b><i>ip-address </i><b>single-connection</b></span> command. </p> <p>The <span class="cmd"><b>single-connection</b></span> keyword enhances TCP performance by maintaining a single TCP connection for the life of the session. Otherwise, by default, a TCP connection is opened and closed for each session. If required, multiple TACACS+ servers can be identified by entering their respective IP address using the <span class="cmd"><b>tacacs-server host</b></span> command.</p> <p>Next, use the <span class="cmd"><b>tacacs-server key </b><i>key</i></span> command to configure the shared secret key to encrypt the data transfer between the TACACS+ server and AAA-enabled router. This key must be configured exactly the same on the router and the TACACS+ server.</p> <p><b>Configure a RADIUS Server and Encryption Key</b></p> <p>To configure a RADIUS server, use the <span class="cmd"><b>radius-server host </b><i>ip-address</i></span> command. Because RADIUS uses UDP, there is no equivalent <span class="cmd"><b>single-connection</b></span> keyword. If required, multiple RADIUS servers can be identified by entering a <span class="cmd"><b>radius-server host</b></span> command for each server.</p> <p>To configure the shared secret key for encrypting the password, use the <b>radius-server key </b><i>key</i> command. This key must be configured exactly the same on the router and the RADIUS server.</p> <p><b>Configure Authentication to Use the AAA Server</b></p> <p>When the AAA security servers have been identified, the servers must be included in the method list of the <b>aaa authentication login</b> command. AAA servers are identified using the <b>group tacacs+</b> or <b>group radius</b> keywords. For example, to configure a method list for the default login to authenticate using a RADIUS server, a TACACS+ server, or a local username database, use the command <b>aaa authentication login default group radius group tacacs+ local-case</b>.</p></content-text>
</page>
</topic>
<topic type="" id="en2003040200">
<title><content-text>Configuring Server-Based AAA Authentication with SDM</content-text></title>
<page type="OneColumn" id="en2003040201">
<content-media type="StaticGraphic" id="cm4977295102">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003040000/en2003040200/en2003040201/cm4977295102.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003040000/en2003040200/en2003040201/cm4977295102text.xml"/></content-media>
<content-text><p>If using SDM for TACACS+ support, it is necessary to specify a list of available Cisco Secure ACS servers that provide TACACS+ services for the router:</p> <p><b>Step 1.</b> From the Cisco SDM home page, choose <b>Configure > Additional Tasks > AAA > AAA Servers and Groups > AAA Servers</b>.</p> <p><b>Step 2.</b> From the AAA Servers pane, click <b>Add</b>. The Add AAA Server window appears. Choose <b>TACACS+</b> from the Server Type list box.</p> <p><b>Step 3.</b> Enter the IP address or host name of the AAA server in the Server IP or Host field. If the router has not been configured to use a DNS server, enter a DNS server IP address.</p> <p><b>Step 4.</b> The router can be configured to maintain a single open connection to the TACACS+ server rather than opening and closing a TCP connection each time it communicates with the server. To do so, check the <b>Single Connection to Server</b> check box. </p> <p><b>Step 5.</b> To override AAA server global settings and specify a server-specific timeout value in the Server-Specific Setup section, enter a value in the <b>Timeout (seconds)</b> field. This field determines how long the router waits for a response from this server before going on to the next server in the group list. If a value is not entered, the router uses the value that is configured in the AAA Servers Global Settings window. The default setting is five seconds.</p> <p><b>Step 6.</b> To configure a server-specific key, check the <b>Configure Key</b> check box and enter the key that is used to encrypt traffic between the router and this server in the New Key field. Re-enter the key in the Confirm Key field for confirmation. If this option is not checked and a value is not entered, the router uses the value that was configured in the AAA Servers Global Settings window.</p> <p><b>Step 7.</b> Click <b>OK</b>.</p> <p>An example CLI command that Cisco SDM would generate based on a TACACS+ server at IP address 10.0.1.1 and key TACACS+Pa55w0rd is <span class="cmd"><b>tacacs-server host 10.0.1.1 key TACACS+Pa55w0rd</b></span>.</p></content-text>
</page>
<page type="OneColumn" id="en2003040202">
<content-media type="StaticGraphic" id="cm3308047968">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003040000/en2003040200/en2003040202/cm3308047968.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003040000/en2003040200/en2003040202/cm3308047968text.xml"/></content-media>
<content-text><p>After AAA is enabled and the TACACS+ servers are configured, the router can be configured to use the Cisco Secure ACS server to authenticate users logging in to the router. To configure the router to use the Cisco Secure ACS server for login authentication, a user-defined authentication login method list must be created, or the default method list must be edited. Keep in mind, the default method list is automatically applied to all interfaces and lines, except those that have a user-defined method list explicitly applied. </p> <p>The administrator can use Cisco SDM to configure a user-defined authentication login method list:</p> <p><b>Step 1. </b>From the Cisco SDM home page, choose <b>Configure > Additional Tasks > AAA > Authentication Policies > Login</b>.</p> <p><b>Step 2. </b>From the Authentication Login pane, click <b>Add</b>.</p> <p><b>Step 3. </b>To create a new authentication login method, choose <b>User Defined </b>from the Name drop-down list.</p> <p><b>Step 4. </b>Enter the authentication login method list name in the <b>Specify</b> field, for example TACACS_SERVER.</p> <p><b>Step 5. </b>Click <b>Add </b>to define the methods that this policy uses. The Select Method List(s) for Authentication Login window appears.</p> <p><b>Step 6. </b>Choose <b>group tacacs+ </b>from the method list.</p> <p><b>Step 7. </b>Click <b>OK </b>to add group tacacs+ to the method list and return to the Add a Method List for Authentication Login window.</p> <p><b>Step 8. </b>Click <b>Add</b> to add a backup method to this policy. The Select Method List(s) for Authentication Login window appears.</p> <p><b>Step 9. </b>Choose <b>enable </b>from the method list to use the enable password as the backup login authentication method.</p> <p><b>Step 10. </b>Click <b>OK</b> to add enable to the method list and return to the Add a Method List for Authentication Login window.</p> <p><b>Step 11. </b>Click <b>OK </b>to add the authentication login method list and return to the Authentication Login screen.</p> <p>The resulting CLI command that Cisco SDM generates is <span class="cmd"><b>aaa authentication login TACACS_SERVER group tacacs+ enable</b></span>.</p></content-text>
</page>
<page type="OneColumn" id="en2003040203">
<content-media type="StaticGraphic" id="cm8431035777">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003040000/en2003040200/en2003040203/cm8431035777.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003040000/en2003040200/en2003040203/cm8431035777text.xml"/></content-media>
<content-text><p>After the authentication login method lists are created, apply the lists to lines and interfaces on the router.</p> <p>SDM can be used to apply an authentication policy to a router line:</p> <p><b>Step 1.</b> Choose <b>Configure > Additional Tasks > Router Access > VTY</b>.</p> <p><b>Step 2.</b> From the VTY Lines window, click the <b>Edit</b> button to make changes to the vty lines. The Edit VTY Lines window appears. </p> <p><b>Step 3.</b> From the Authentication Policy list box, choose the authentication policy to apply to the vty lines. For example, applying the authentication policy named TACACS_SERVER to vty lines 0 through 4 results in the <span class="cmd"><b>login authentication TACACS_SERVER</b></span> CLI command.</p> <p>The CLI can also be used to apply an authentication policy to lines or interfaces with the <span class="cmd"><b>login authentication </b>{<b>default </b>| <i>list-name</i>}</span> command in line configuration mode or interface configuration mode.</p></content-text>
</page>
</topic>
<topic type="" id="en2003040300">
<title><content-text>Troubleshooting Server-Based AAA Authentication</content-text></title>
<page type="OneColumn" id="en2003040301">
<content-media type="StaticGraphic" id="cm3027314440">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003040000/en2003040300/en2003040301/cm3027314440.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003040000/en2003040300/en2003040301/cm3027314440text.xml"/></content-media>
<content-text><p>When AAA is enabled, it is often necessary to monitor authentication traffic and troubleshoot configurations.</p> <p>The <span class="cmd"><b>debug aaa authentication</b></span> command is a useful AAA troubleshooting command because it provides a high-level view of login activity. </p> <p>The command indicates a status message of PASS when a TACACS+ login attempt is successful. If the status message returned is FAIL, verify the secret key.</p></content-text>
</page>
<page type="OneColumn" id="en2003040302">
<content-media type="StaticGraphic" id="cm1106710970">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003040000/en2003040300/en2003040302/cm1106710970.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003040000/en2003040300/en2003040302/cm1106710970text.xml"/></content-media>
<content-text><p>Two other very useful server-based AAA troubleshooting commands include the <span class="cmd"><b>debug tacacs</b></span> and <span class="cmd"><b>debug radius</b></span> commands. These commands can be used to provide more detailed AAA debugging information. To disable debugging output, use the <span class="cmd"><b>no</b></span> form of these commands.</p> <p>Similar to the <span class="cmd"><b>debug aaa authentication</b></span> command, the <span class="cmd"><b>debug tacacs</b></span> also indicates status messages of PASS or FAIL. </p> <p>To see all TACACS+ messages use the <span class="cmd"><b>debug tacacs</b></span> command. To narrow the results and display information from the TACACS+ helper process, use the <span class="cmd"><b>debug tacacs events</b></span> command in privileged EXEC mode. The <span class="cmd"><b>debug tacacs events</b></span> command displays the opening and closing of a TCP connection to a TACACS+ server, the bytes read and written over the connection, and the TCP status of the connection. Use the <span class="cmd"><b>debug tacacs events</b></span> command with caution, because it can generate a substantial amount of output. To disable debugging output, use the <span class="cmd"><b>no</b></span> form of this command.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en2003050000">
<title><content-text>Server-Based AAA Authorization and Accounting</content-text></title>
<topic type="" id="en2003050100">
<title><content-text>Configuring Server-Based AAA Authorization</content-text></title>
<page type="OneColumn" id="en2003050101">
<content-media type="StaticGraphic" id="cm5358569866">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003050000/en2003050100/en2003050101/cm5358569866.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003050000/en2003050100/en2003050101/cm5358569866text.xml"/></content-media>
<content-text><p>While authentication is concerned with ensuring that the device or end user is as claimed, authorization is concerned with allowing and disallowing authenticated users access to certain areas and programs on the network.</p> <p>The TACACS+ protocol allows the separation of authentication from authorization. A router can be configured to restrict the user to performing only certain functions after successful authentication. Authorization can be configured for both character mode (exec authorization) and packet mode (network authorization). Keep in mind that RADIUS does not separate the authentication from the authorization process.</p> <p>Another important aspect of authorization is the ability to control user access to specific services. Controlling access to configuration commands greatly simplifies the infrastructure security in large enterprise networks. Per-user permissions on the Cisco Secure ACS simplify network device configuration. </p> <p>For example, an authorized user can be permitted to access the <span class="cmd"><b>show version</b></span> command but not the <span class="cmd"><b>configure terminal</b></span> command. The router queries the ACS for permission to execute the commands on behalf of the user. When the user issues the <span class="cmd"><b>show version</b></span> command, the ACS sends an ACCEPT response. If the user issues a <span class="cmd"><b>configure terminal</b></span> command, the ACS sends a REJECT response.</p> <p>TACACS+ by default establishes a new TCP session for every authorization request, which can lead to delays when users enter commands. Cisco Secure ACS supports persistent TCP sessions to improve performance.</p></content-text>
</page>
<page type="OneColumn" id="en2003050102">
<content-media type="StaticGraphic" id="cm2620567837">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003050000/en2003050100/en2003050102/cm2620567837.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003050000/en2003050100/en2003050102/cm2620567837text.xml"/></content-media>
<content-text><p>To configure command authorization, use the <span class="cmd"><b>aaa authorization </b>{<b>network </b>|<b> exec </b>|<b> commands </b><i>level</i>} {<b>default </b>| <i>list-name</i>} <i>method1...</i>[<i>method4</i>]</span> command. The service type can specify the types of commands or services:</p> <p><span class="cmd"><b>commands </b><i>level</i></span>  for exec (shell) commands</p> <p><span class="cmd"><b>exec</b></span>  for starting an exec (shell)</p> <p><span class="cmd"><b>network</b></span>  for network services (PPP, SLIP, ARAP)</p> <p>When AAA authorization is not enabled, all users are allowed full access. After authentication is started, the default changes to allow no access. This means that the administrator must create a user with full access rights before authorization is enabled. Failure to do so immediately locks the administrator out of the system the moment the <span class="cmd"><b>aaa authorization</b></span> command is entered. The only way to recover from this is to reboot the router. If this is a production router, rebooting might be unacceptable. Be sure that at least one user always has full rights.</p></content-text>
</page>
<page type="OneColumn" id="en2003050103">
<content-media type="StaticGraphic" id="cm7540391639">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003050000/en2003050100/en2003050103/cm7540391639.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003050000/en2003050100/en2003050103/cm7540391639text.xml"/></content-media>
<content-text><p>To configure the router to use the Cisco Secure ACS server for authorization, create a user-defined authorization method list or edit the default authorization method list. The default authorization method list is automatically applied to all interfaces except those that have a user-defined authorization method list explicitly applied. A user-defined authorization method list overrides the default authorization method list.</p> <p>Cisco SDM can be used to configure the default authorization method list for character mode (exec) access:</p> <p><b>Step 1.</b> From the Cisco SDM home page, choose <b>Configure > Additional Tasks > AAA > Authorization Policies > Exec</b>.</p> <p><b>Step 2.</b> From the Exec Authorization pane, click <b>Add</b>.</p> <p><b>Step 3.</b> From the Add a Method List for Exec Authorization window, choose <b>Default </b>from the Name drop-down list.</p> <p><b>Step 4.</b> Click <b>Add </b>to define the methods that this policy uses.</p> <p><b>Step 5.</b> From the Select Method List(s) for Exec Authorization window, choose <b>group tacacs+ </b>from the method list.</p> <p><b>Step 6.</b> Click <b>OK </b>to return to the Add a Method List for Exec Authorization window.</p> <p><b>Step 7.</b> Click <b>OK </b>to return to the Exec Authorization pane.</p> <p>The resulting CLI command that Cisco SDM generates is <span class="cmd"><b>aaa authorization exec default group tacacs+</b></span>.</p></content-text>
</page>
<page type="OneColumn" id="en2003050104">
<content-media type="StaticGraphic" id="cm5018433729">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003050000/en2003050100/en2003050104/cm5018433729.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003050000/en2003050100/en2003050104/cm5018433729text.xml"/></content-media>
<content-text><p>The SDM can also be used to configure the default authorization method list for packet mode (network):</p> <p><b>Step 1.</b> From the Cisco SDM home page, choose <b>Configure > Additional Tasks > AAA > Authorization Policies > Network</b>.</p> <p><b>Step 2.</b> From the Network Authorization pane, click <b>Add</b>.</p> <p><b>Step 3.</b> From the Add a Method List for Network Authorization window, choose <b>Default </b>from the Name drop-down list.</p> <p><b>Step 4.</b> Click <b>Add </b>to define the methods that this policy uses.</p> <p><b>Step 5.</b> From the Select Method List(s) for Network Authorization window, choose <b>group tacacs+ </b>from the method list.</p> <p><b>Step 6.</b> Click <b>OK </b>to return to the Add a Method List for Network Authorization window.</p> <p><b>Step 7.</b> Click <b>OK </b>to return to the Network Authorization pane.</p> <p>The resulting CLI command that Cisco SDM generates is <span class="cmd"><b>aaa authorization network default group tacacs+</b></span>.</p></content-text>
</page>
</topic>
<topic type="" id="en2003050200">
<title><content-text>Configuring Server-Based AAA Accounting</content-text></title>
<page type="OneColumn" id="en2003050201">
<content-media type="StaticGraphic" id="cm9231461060">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003050000/en2003050200/en2003050201/cm9231461060.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003050000/en2003050200/en2003050201/cm9231461060text.xml"/></content-media>
<content-text><p>Sometimes a company wants to keep track of which resources individuals or groups use. Examples of this include when one department charges other departments for access, or one company provides internal support to another company. AAA accounting provides the ability to track usage, such as dial-in access, to log the data gathered to a database, and to produce reports on the data gathered.</p> <p>Although accounting is generally considered a network management or financial management issue, it is discussed briefly here because it is so closely linked with security. One security issue that accounting addresses is creating a list of users and the time of day they dialed into the system. If, for example, the administrator knows that a worker logs in to the system in the middle of the night, this information can be used to further investigate the purpose of the login.</p> <p>Another reason to implement accounting is to create a list of changes occurring on the network, who made the changes, and the exact nature of the changes. Knowing this information helps the troubleshooting process if the changes cause unexpected results.</p> <p>Cisco Secure ACS serves as a central repository for accounting information, essentially tracking events that occur on the network. Each session that is established through Cisco Secure ACS can be fully accounted for and stored on the server. This stored information can be very helpful for management, security audits, capacity planning, and network usage billing.</p> <p>Like authentication and authorization method lists, method lists for accounting define the way accounting is performed and the sequence in which these methods are performed. After it is enabled, the default accounting method list is automatically applied to all interfaces, except those that have a named accounting method list explicitly defined.</p></content-text>
</page>
<page type="OneColumn" id="en2003050202">
<content-media type="StaticGraphic" id="cm2583525788">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003050000/en2003050200/en2003050202/cm2583525788.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003050000/en2003050200/en2003050202/cm2583525788text.xml"/></content-media>
<content-text><p>To configure AAA accounting, use the <span class="cmd"><b>aaa accounting </b>{ <b>network</b> | <b>exec </b>| <b>connection</b>} {<b>default </b>| <i>list-name</i>} {<b>start-stop</b> | <b>stop-only</b> | <b>none</b>} [<b>broadcast</b>] <i>method1</i>[<i>method4</i>]</span> global configuration mode command. The <span class="cmd"><b>network</b></span>, <span class="cmd"><b>exec</b></span>, and <span class="cmd"><b>connection</b></span> parameters are commonly used keywords.</p> <p>As with AAA authentication, either the keyword <span class="cmd"><b>default</b></span> or a <span class="cmd"><i>list-name</i></span> is used.</p> <p>Next, the record type, or trigger, is configured. The trigger specifies what actions cause accounting records to be updated. Possible triggers are <span class="cmd"><b>none</b></span>, <span class="cmd"><b>start-stop</b></span>, <span class="cmd"><b>stop-only</b></span>.</p> <p>For example, to log the use of EXEC sessions and network connections, use the global configuration commands.</p> <p><span class="cmd">R1(config)# <b>aaa accounting exec start-stop group tacacs+</b></span></p> <p><span class="cmd">R1(config)# <b>aaa accounting network start-stop group tacacs+</b></span></p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="en2003060000">
<title><content-text>Chapter Summary</content-text></title>
<topic type="" id="en2003060100">
<title><content-text>Chapter Summary</content-text></title>
<page type="FullScreen" id="en2003060101">
<content-media type="StaticGraphic" id="cm2898184477">	<title><content-text></content-text></title>	<media ref="en2003000000/en2003060000/en2003060100/en2003060101/cm2898184477.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2003000000/en2003060000/en2003060100/en2003060101/cm2898184477text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
</chapter>
