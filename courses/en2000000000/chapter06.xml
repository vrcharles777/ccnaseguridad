<chapter type="" id="en2006000000">
<title><content-text>Securing the Local Area Network</content-text></title>
<section type="ChapterIntroduction" id="en2006000000">
<title><content-text>Chapter Introduction</content-text></title>
<topic type="" id="en2006000100">
<title><content-text>Chapter Introduction</content-text></title>
<page type="OneColumn" id="en2006000101">
<content-media type="StaticGraphic" id="cm6317696450">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006000000/en2006000100/en2006000101/cm6317696450.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006000000/en2006000100/en2006000101/cm6317696450text.xml"/></content-media>
<content-text><p>A secure network is only as strong as its weakest link. For this reason, in addition to securing the network edge, it is also important to secure the end devices that reside within the network. Endpoint security includes securing the network infrastructure devices in the LAN as well as the end systems, such as workstations, servers, IP phones, access points, and storage area networking (SAN) devices. There are several endpoint security applications and devices available to accomplish this, including Cisco IronPort security appliances, Network admission control (NAC), and Cisco Security Agent (CSA).</p> <p>Endpoint security also encompasses securing Layer 2 of the network infrastructure to prevent against Layer 2 attacks such as MAC address spoofing and STP manipulation attacks. Layer 2 security configurations include enabling port security, BPDU guard, root guard, storm control, Cisco switched port analyzer (SPAN), and remote SPAN (RSPAN).</p> <p>Finally, the type of security solutions implemented depends upon the type of LAN technologies used. For example, networks that employ wireless, VoIP, and SANs technologies have additional security considerations and solutions. </p></content-text>
</page>
</topic>
</section>
<section type="" id="en2006010000">
<title><content-text>Endpoint Security</content-text></title>
<topic type="" id="en2006010100">
<title><content-text>Introducing Endpoint Security</content-text></title>
<page type="OneColumn" id="en2006010101">
<content-media type="StaticGraphic" id="cm3974276135">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010100/en2006010101/cm3974276135.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010100/en2006010101/cm3974276135text.xml"/></content-media>
<content-text><p>The high-profile threats most often discussed in the media are external threats, such as Internet worms and DoS attacks. But securing an internal local area network (LAN) is just as important as securing the perimeter of a network. Without a secure LAN, users in an organization may not be able to access the network, which can significantly reduce productivity.</p> <p>Many network administrators develop their security strategy from the perimeter of a network and work toward the LAN. Other administrators develop their network security strategy at the LAN and work toward the perimeter. Regardless of the approach, two specific areas that are vital to secure are the endpoints and the network infrastructure.</p> <p>The LAN is made up of network endpoints. An endpoint, or host, is an individual computer system or device that acts as a network client. Common endpoints are laptops, desktops, IP phones, and personal digital assistants (PDAs). Servers can also be considered endpoints. The LAN-to-perimeter security strategy is based on the idea that if users are not practicing security in their desktop operations, no amount of security precautions will guarantee a secure network.</p> <p>The network infrastructure is the other area of focus for securing the LAN. Part of securing a LAN is mitigating attacks. These attacks include MAC address spoofing attacks, STP manipulation attacks, MAC address table overflow attacks, LAN storm attacks, and VLAN attacks. Another element to securing the network infrastructure is securing the non-endpoint LAN devices. These include switches, wireless devices, IP telephony devices, and storage area networking (SAN) devices.</p></content-text>
</page>
<page type="OneColumn" id="en2006010102">
<content-media type="StaticGraphic" id="cm4237594049">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010100/en2006010102/cm4237594049.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010100/en2006010102/cm4237594049text.xml"/></content-media>
<content-text><p>Before securing the network infrastructure, the initial focus must be endpoint security. Hosts must be protected from viruses, Trojan Horses, worms, and other security threats. The Cisco strategy for addressing endpoint security is based on three elements:</p> <p><ul><li> <b>Cisco Network Admission Control (NAC)</b> - The NAC solution ensures that every endpoint complies with network security policies before being granted access to the network. NAC provides access to compliant devices and ensures that noncompliant devices are denied access, placed in quarantine, or given restricted access to resources.</li><li> <b>Endpoint protection</b> - Behavior-based technology is available with Cisco Security Agent (CSA), which protects endpoints against threats that are posed by viruses, Trojan Horses, and worms. IronPort perimeter security appliances complement CSA by focusing on email and web security.</li><li> <b>Network infection containment</b> - To address the newest attack methods that can compromise the network, containment focuses on automating key elements of the infection response process. The Cisco Self-Defending Network (SDN) elements of NAC, CSA, and IPS provide this service.</li></ul></p> <p>An endpoint security strategy is necessary because software tends to have weaknesses. Secure (trustworthy) software is designed to protect data and withstand attack attempts. Historically, secure software was used only within the military and in critical commercial systems. Generally, this type of software is custom software.</p> <p>Non-secure software can be made more trusted by hardening it or blocking vulnerabilities. While hardening is often done, it requires documentation of the internal software components, which is not commonly provided by vendors. Additionally, securing software requires securing operating systems and any applications that run inside an operating system.</p></content-text>
</page>
<page type="OneColumn" id="en2006010103">
<content-media type="StaticGraphic" id="cm2852497292">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010100/en2006010103/cm2852497292.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010100/en2006010103/cm2852497292text.xml"/></content-media>
<content-text><p>Operating systems provide basic security services to applications:</p> <p><ul><li> <b>Trusted code and trusted path</b> - Ensures that the integrity of the operating system is not violated. Trusted code refers to the assurance that the operating system code is not compromised. An operating system might provide integrity checking of all running code by using hash message authentication codes (HMACs) or digital signatures. Integrity verification of add-on software might be necessary at installation. Digital signatures can also be used. Trusted path refers to a facility that ensures that the user is using a genuine system and not a Trojan Horse. An example of a trusted path is the Ctrl-Alt-Delete key sequence required for logging into Windows Server and Windows XP.</li><li> <b>Privileged context of execution</b> - Provides identity authentication and certain privileges based on the identity.</li><li> <b>Process memory protection and isolation</b> - Provides separation from other users and their data.</li><li> <b>Access control to resources</b> - Ensures confidentiality and integrity of data.</li></ul></p> <p>An attacker can undermine all of these services. If either the trusted code or a trusted path is not present or is compromised, the operating system and all applications can easily be subverted by hostile code. An operating system might be made more vulnerable if there is a need to provide support for legacy protocols.</p></content-text>
</page>
<page type="OneColumn" id="en2006010104">
<content-media type="StaticGraphic" id="cm9316229669">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010100/en2006010104/cm9316229669.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010100/en2006010104/cm9316229669text.xml"/></content-media>
<content-text><p>Modern operating systems provide each process with an identity and privileges. Privilege switching is possible during program operation or during a single login session. For example, UNIX has the <b>suid</b> (<b>set user ID</b>) facility and Windows has the <b>runas</b> utility.</p> <p>These are a few techniques that help protect an endpoint from operating system vulnerabilities:</p> <p><ul><li> <b>Least privilege concept</b> - To better protect an endpoint, a process should never be given more privilege than is necessary to perform a job.</li><li> <b>Isolation between processes</b> - Isolation between processes can be virtual or physical. For example, memory protection can be done in hardware. Some trusted operating systems provide isolation using logical execution compartments.</li><li> <b>Reference monitor</b> - A reference monitor is an access control concept that refers to a mechanism or process that mediates all access to objects. It provides a central point for all policy decisions, typically implementing auditing functions to keep track of access. In addition to the reference monitor that usually exists in an operating system, CSA functions as a reference monitor.</li><li> <b>Small, verifiable pieces of code</b> - For all security functionality, the idea is to have small, easily verifiable pieces of code that are managed and monitored by a reference monitor. </li></ul></p> <p>The ultimate target of an attacker is often an application running on a host that processes sensitive data that the attacker wants to obtain. Attacks to applications can be direct or indirect. In a direct attack, the attacker fools the application into performing a task with the application's privileges. In an indirect attack, the attacker first compromises another subsystem and attacks the application through the compromised subsystem (privilege escalation).</p> <p>When an attacker has the option of communicating directly with the target application, the application must be suitably protected. For example, an attacker might attempt a DoS attack to a specific application. Another example of a direct attack to a target application is if an attacker uses flaws in the application to bypass its access controls to obtain read or write access to sensitive data.</p> <p>In another scenario, an attacker indirectly gains access to sensitive data through a chain of compromises of other system components. For example, an attacker first obtains basic user-level access to the system on which the sensitive data resides. Then, by exploiting a flaw in any local application, the attacker attains system administration privileges (privilege escalation). Using those privileges, the attacker might be able to read or write to most objects on the system, including sensitive data of the target application.</p></content-text>
</page>
<page type="OneColumn" id="en2006010105">
<content-media type="StaticGraphic" id="cm4080422032">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010100/en2006010105/cm4080422032.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010100/en2006010105/cm4080422032text.xml"/></content-media>
<content-text><p>Cisco Systems provides several components to ensure a robust endpoint security solution. The primary components of this solution are: </p> <p><ul><li> IronPort</li><li> Cisco NAC</li><li> CSA</li></ul></p> <p>Cisco IronPort perimeter security appliances protect enterprises against Internet threats, with a focus on email and web security, two of the main endpoint security considerations. Endpoints in this case are secured by devices working on the network perimeter.</p> <p>NAC uses the network infrastructure to enforce security policy compliance on all devices seeking to access network computing resources. With NAC, network security professionals can authenticate, authorize, evaluate, and remediate wired, wireless, and remote users and their machines prior to network access. NAC identifies whether networked devices are compliant with the network security policies and repairs any vulnerability before permitting access to the network. </p> <p>CSA provides a fully integrated endpoint security solution that combines policy-driven, data-loss prevention with zero-update attack prevention and anti-virus detection in a single agent and management console. CSA defends endpoints against data loss from both malware and user actions and enforces acceptable-use and compliance policies within a simple management infrastructure. </p> <p>IronPort, NAC, and CSA have some overlap in their functional support of endpoint security. These technologies, when used in parallel, add layers of protection and are interoperable. They combine to provide protection of operating system vulnerabilities against both direct and indirect attacks.</p> <p>While there are a number of alternatives to the endpoint security solutions provided by Cisco Systems, the limitation of these other systems is that they do not provide a comprehensive end-to-end approach to securing the network. Some of the major players in providing endpoint security solutions are McAfee, Symantec, Juniper, SonicWALL, and Fortinet.</p></content-text>
</page>
</topic>
<topic type="" id="en2006010200">
<title><content-text>Endpoint Security with IronPort</content-text></title>
<page type="OneColumn" id="en2006010201">
<content-media type="StaticGraphic" id="cm6000106124">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010200/en2006010201/cm6000106124.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010200/en2006010201/cm6000106124text.xml"/></content-media>
<content-text><p>Cisco Systems acquired IronPort Systems in 2007. IronPort is a leading provider of anti-spam, anti-virus, and anti-spyware appliances. IronPort uses SenderBase, the world's largest threat detection database, to help provide preventive and reactive security measures.</p> <p>IronPort offers different security appliances:</p> <p><ul><li> <b>C-Series</b> - An email security appliance for virus and spam control. </li><li> <b>S-Series</b> - A web security appliance for spyware filtering, URL filtering, and anti-malware. </li><li> <b>M-Series</b> - A security management appliance that compliments the email and web security appliances by managing and monitoring an organization's policy settings and audit information. </li></ul></p> <p>The M-Series appliance is as a flexible management tool for centralizing and consolidating policy and runtime data, providing security professionals a single interface to manage all of their application layer security systems.</p> <p>By providing security solutions deployed at the network gateway, IronPort enables a perimeter defense to help prevent Internet threats of all types from reaching the desktops of employees.</p></content-text>
</page>
<page type="OneColumn" id="en2006010202">
<content-media type="StaticGraphic" id="cm2325397125">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010200/en2006010202/cm2325397125.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010200/en2006010202/cm2325397125text.xml"/></content-media>
<content-text><p>IronPort SenderBase is the world's largest email traffic monitoring service. SenderBase collects data from more than 100,000 ISPs, universities, and corporations. It measures more than 120 different parameters for any email server on the Internet. This massive database receives more than five billion queries per day, with real-time data streaming in from every continent and both small and large network providers. SenderBase has the most accurate view of the sending patterns of any given mail sender because of the size of the database. It has remained the largest in the world because of the accuracy of the data. IronPort licenses SenderBase data to the open-source community and other institutions that are participating in the fight against spam.</p> <p>The eight largest ISPs and more than 20 percent of the largest enterprises in the world use the IronPort C-Series email security appliances. By protecting the email systems of enterprises of all sizes, the downtime that is associated with spam, viruses, and a wide variety of other threats has been reduced. The system also reduces the burden on technical staff.</p></content-text>
</page>
<page type="OneColumn" id="en2006010203">
<content-media type="StaticGraphic" id="cm2723089034">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010200/en2006010203/cm2723089034.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010200/en2006010203/cm2723089034text.xml"/></content-media>
<content-text><p>Spyware has become one of the most significant corporate security issues. More than 80 percent of corporate PCs are infected with spyware, yet less than 10 percent of corporations have deployed perimeter spyware defenses. The speed, variety, and maliciousness of spyware and web-based malware attacks have highlighted the importance of a robust, secure platform to protect the enterprise network perimeter from such threats. The IronPort S-Series is a fast web security appliance that offers multiple anti-malware scanning engines on a single, integrated appliance. The S-Series includes IronPort's exclusive Web Reputation technology and Dynamic Vectoring and Streaming engine, a new scanning technology that enables signature-based spyware filtering.</p> <p>A security professional can run the scanning engines simultaneously to offer greater protection against malware threats, with minimal performance degradation. It provides protection against a wide variety of web-based threats, ranging from adware, phishing, and pharming attacks to more malicious threats such as Trojan Horses, worms, and other system monitoring attacks.</p></content-text>
</page>
</topic>
<topic type="" id="en2006010300">
<title><content-text>Endpoint Security with Network Admission Control</content-text></title>
<page type="OneColumn" id="en2006010301">
<content-media type="StaticGraphic" id="cm7160858708">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010300/en2006010301/cm7160858708.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010300/en2006010301/cm7160858708text.xml"/></content-media>
<content-text><p>The purpose of Cisco NAC is twofold: allow only authorized and compliant systems (whether managed or unmanaged) to access the network and to enforce network security policy. </p> <p>NAC helps maintain network stability by providing four important features: authentication and authorization, posture assessment (evaluating an incoming device against the policies of the network), quarantining of noncompliant systems, and remediation of noncompliant systems.</p> <p>Cisco NAC products come in two general categories:</p> <p><ul><li> <b>NAC framework</b> - The NAC framework uses the existing Cisco network infrastructure and third-party software to enforce security policy compliance on all endpoints. The NAC framework is suited for high-performance network environments with diverse endpoints. These environments require a consistent LAN, WAN, wireless, extranet, and remote access solution that integrates into the existing security and patch software, tools, and processes. Different devices in the network, not necessarily one device, can provide the four features of NAC.</li><li> <b>Cisco NAC Appliance</b> - The Cisco NAC Appliance solution condenses the four NAC functions into an appliance form and provides a turnkey solution to control network access. This solution is a natural fit for medium-scaled networks requiring a self-contained, turnkey solution. The Cisco NAC Appliance is ideal for organizations that need simplified and integrated tracking of operating system and anti-virus patches and vulnerability updates. It does not require a Cisco network.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en2006010302">
<content-media type="StaticGraphic" id="cm8553180959">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010300/en2006010302/cm8553180959.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010300/en2006010302/cm8553180959text.xml"/></content-media>
<content-text><p>The components of a NAC framework provide compliance-based access control. NAC functions, including authentication, authorization, and accounting (AAA), scanning, and remediation, are performed by other Cisco products, such as a Cisco Secure Access Control Server (ACS), or partner products such as TrendMicro.</p> <p>The goal of both the NAC framework and the Cisco NAC Appliance is to ensure that only hosts that are authenticated and have had their security posture examined and approved are permitted onto the network. For example, company laptops that have been used offsite for a period of time might not have received current security updates or could have become infected from other systems cannot connect to the network until they are examined and approved.</p> <p>Network access devices function as the enforcement layer. They force the clients to query a RADIUS server for authentication and authorization. The RADIUS server can query other devices, such as a TrendMicro anti-virus server, and reply to the network enforcers. Only when everything is up to standard is the host identified and admitted to the network.</p></content-text>
</page>
<page type="OneColumn" id="en2006010303">
<content-media type="StaticGraphic" id="cm8099253757">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010300/en2006010303/cm8099253757.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010300/en2006010303/cm8099253757text.xml"/></content-media>
<content-text><p>The Cisco NAC Appliance consolidates all the functions of the NAC framework into a single network appliance fulfilling all of the same roles. Several major components accomplish these tasks:</p> <p><ul><li> <b>Cisco NAC Appliance Server (NAS)</b> - A device that is used to perform network access control. This security enforcement device is implemented at the network level. It can be implemented in-band or out-of-band at Layer 2 or Layer 3 as a virtual gateway or as a real IP gateway, and it can be deployed centrally or in a distributed manner. The Cisco NAS performs device-compliance checks as users attempt to access the network.</li><li> <b>Cisco NAC Appliance Manager (NAM)</b> - A centralized administrative interface that is used by technical support personnel. The Cisco NAM provides a web-based interface for creating security policies and managing online users. It can also act as an authentication proxy to authenticate servers on the back end. Administrators can use it to establish user roles, compliance checks, and remediation requirements. The Cisco NAM communicates with and manages the Cisco NAS, which is the enforcement component of the Cisco NAC Appliance.</li><li> <b>Cisco NAC Appliance Agent (NAA)</b> - Client software that facilitates network admission. This lightweight, read-only agent runs on an endpoint machine. It performs a deep inspection of the security profile of a local machine by analyzing registry settings, services, and files. Through this inspection, the NAA can determine whether a device has the required anti-virus dat file, security patch, or critical Windows hotfix. A hotfix is a patch that can be installed, while the application is running, to address vulnerabilities. It can then correct the problem by pushing the required update to the host. For unmanaged assets, the Cisco NAA can be downloaded as needed.</li><li> <b>Rule-set updates</b> - Automatic updates are used to keep the security level high by always providing the latest virus updates and software patches for quarantined hosts.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en2006010304">
<content-media type="StaticGraphic" id="cm8674853749">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010300/en2006010304/cm8674853749.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010300/en2006010304/cm8674853749text.xml"/></content-media>
<content-text><p>The Cisco NAC Appliance extends NAC to all network access methods, including access through LANs, remote-access gateways, and wireless access points. The Cisco NAC Appliance also supports posture assessment for guest users.</p> <p>When deployed, the Cisco NAC Appliance provides several benefits:</p> <p><ul><li> Recognizes users, their devices, and their roles in the network. This first step occurs at the point of authentication, before malicious code can cause damage.</li><li> Evaluates whether machines are compliant with security policies. Security policies can include specific anti-virus or anti-spyware software, operating system updates, or patches. The Cisco NAC Appliance supports policies that vary by user type, device type, or operating system.</li><li> Enforces security policies by blocking, isolating, and repairing noncompliant machines.</li></ul></p> <p>Noncompliant machines are redirected into a quarantine area, where remediation occurs at the discretion of a security professional.</p> <p>The Cisco NAC Appliance process involves several steps:</p> <p><b>Step 1. </b>The user attempts to access a network resource.</p> <p><b>Step 2. </b>The user is redirected to a login page.</p> <p><b>Step 3. </b>The host is authenticated and optionally scanned for posture compliance. If compliant, the host is granted access to the network. If not compliant, the host is quarantined to a VLAN, where the host can be patched and become compliant.</p></content-text>
</page>
<page type="OneColumn" id="en2006010305">
<content-media type="StaticGraphic" id="cm4001018216">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010300/en2006010305/cm4001018216.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010300/en2006010305/cm4001018216text.xml"/></content-media>
<content-text><p>The Cisco NAA is the software interface that users see when they interact with the Cisco NAC Appliance. There are three access windows:</p> <p><b>1.</b> The first window is the initial login window where the user enters the username and password and the system is scanned for compliance.</p> <p><b>2.</b> If the scan fails, the user is granted temporary access and is presented the You Have Temporary Access window.</p> <p><b>3.</b> If remediation is available, the Please Download and Install the Required Software window invites the user to install the necessary software to become compliant.</p></content-text>
</page>
</topic>
<topic type="" id="en2006010400">
<title><content-text>Endpoint Security with Cisco Security Agent</content-text></title>
<page type="OneColumn" id="en2006010401">
<content-media type="StaticGraphic" id="cm8848412646">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010400/en2006010401/cm8848412646.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010400/en2006010401/cm8848412646text.xml"/></content-media>
<content-text><p>Cisco Security Agent (CSA), a host-based intrusion prevention system (HIPS) product, is software that provides endpoint security by providing threat protection capabilities for server and desktop computing systems. Because a single management console can support up to 100,000 agents, it is a highly scalable solution.</p> <p>The CSA architecture model consists of two components:</p> <p><ul><li> <b>Management Center for CSA</b> - Allows the administrator to divide network hosts into groups by function and security requirements, and then configure security policies for those groups. It can maintain a log of security violations and send alerts by email or pager.</li><li> <b>Cisco Security Agent - </b>The CSA component is installed on the host system, it continuously monitors local system activity and analyzes the operations of that system. CSA takes proactive action to block attempted malicious activity and polls the Management Center at configurable intervals for policy updates.</li></ul></p> <p>An SSL-enabled web interface can be used to securely connect from an administration workstation to the Management Center for CSA.</p></content-text>
</page>
<page type="OneColumn" id="en2006010402">
<content-media type="StaticGraphic" id="cm3289345347">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010400/en2006010402/cm3289345347.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010400/en2006010402/cm3289345347text.xml"/></content-media>
<content-text><p>When an application needs access to system resources, it makes an operating system call to the kernel. CSA intercepts these operating system calls and compares them with the cached security policy. If the request does not violate the policy, it is passed to the kernel for execution.</p> <p>If the request violates the security policy, CSA blocks the request and takes two actions:</p> <p><ul><li> An appropriate error message is passed back to the application.</li><li> An alert is generated and sent to the Management Center for CSA.</li></ul></p> <p>CSA correlates this particular operating system call with the other calls made by that application or process, and monitors these events to detect malicious activity.</p> <p>CSA provides protection through the deployment of four interceptors:</p> <p><ul><li> <b>File system interceptor - </b>All file read or write requests are intercepted and allowed or denied based on the security policy.</li><li> <b>Network interceptor - </b>Network driver interface specification (NDIS) changes are controlled and network connections are cleared through the security policy. The number of network connections that are allowed within a specified time can also be limited to prevent DoS attacks.</li><li> <b>Configuration interceptor - </b>Read and write requests to the registry in Windows or to run control (rc) files on UNIX are intercepted. This interception occurs because modification of the operating system configuration can have serious consequences. Therefore, CSA tightly controls read/write requests to the registry.</li><li> <b>Execution space interceptor - </b>This interceptor deals with maintaining the integrity of the dynamic runtime environment of each application by detecting and blocking requests to write to memory that are not owned by the requesting application. Attempts by one application to inject code, such as a shared library or dynamic link library (DLL) into another, are also detected and blocked. The interceptor also detects buffer overflow attacks, thereby preserving the integrity of dynamic resources, such as the file system, configuration of web services, memory, and network I/O.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en2006010403">
<content-media type="StaticGraphic" id="cm5916288172">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010400/en2006010403/cm5916288172.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010400/en2006010403/cm5916288172text.xml"/></content-media>
<content-text><p>By intercepting communication between applications and the underlying system, CSA combines the functionality of traditional security approaches:</p> <p><ul><li> <b>Distributed firewall</b> - The network interceptor performs the functions of a host firewall.</li><li> <b>HIPS</b> - The network interceptor teams with the execution space interceptor to provide the alerting capability of a HIPS with the proactive enforcement of a security policy.</li><li> <b>Application sandbox</b> - An application sandbox is an execution space in which suspect programs can be run with less than normal access to system resources. This security service is provided by a combination of file system, configuration, and execution space interceptors.</li><li> <b>Network worm prevention</b> - The network and execution space interceptors provide worm prevention without a need for updates.</li><li> <b>File integrity monitor - </b>The file system and the configuration interceptors act as a file integrity monitor.</li></ul></p> <p>The default policies that are preconfigured on CSA implement all of these security features. If needed, customers can easily create or change policies.</p></content-text>
</page>
<page type="OneColumn" id="en2006010404">
<content-media type="StaticGraphic" id="cm1894179744">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010400/en2006010404/cm1894179744.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010400/en2006010404/cm1894179744text.xml"/></content-media>
<content-text><p>Malicious attacks come in thousands of varieties, and new attacks are constantly being devised to exploit discovered vulnerabilities. An analysis of the logical progression of an attack helps illustrate how almost every attack intends to gain control of core mechanisms in the target system. There are significant differences between the attack mechanisms that are used in the probe and penetrate phases compared to the attack mechanisms in the persist phase.</p> <p>The first two stages change continuously, with new vulnerabilities being discovered and custom exploits being created almost every day. Combating attacks at the probe and penetrate phases requires constant updating of malicious IPS signatures and firewall defenses as these attacks evolve. Attacks at these early phases also lend themselves to evasion techniques, such as Unicode encoding of web strings or overlapping packet fragments. Attacks that alter at the penetrate stage require a significant amount of investigation because they can generate false alarms that require time-consuming review by a security administrator.</p> <p>In contrast, attack mechanisms in the persist phase and the later phases are comparatively stable. The malicious activities of an attacker are limited, and an attack involves making a system call to the kernel to access the system resources. The malicious code can attempt to modify the operating system, modify files, create or alter network connections, or violate the memory space of active processes. </p> <p>Because consistently identifying attacks in their early phases is nearly impossible, CSA focuses on providing proactive security by controlling access to system resources. This approach avoids the need for updating defenses to keep up with the latest attack and protects hosts from a new attack. For example, the Nimda and Slammer worms caused millions of dollars of damage to enterprises on the first day of their appearance before updates were available, but CSA stopped these attacks by identifying their malicious behavior without any updates.</p></content-text>
</page>
<page type="OneColumn" id="en2006010405">
<content-media type="StaticGraphic" id="cm1140932383">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006010000/en2006010400/en2006010405/cm1140932383.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006010000/en2006010400/en2006010405/cm1140932383text.xml"/></content-media>
<content-text><p>CSA generates messages on client machines, which are logged and viewable from the CSA console. A user or administrator can review the log messages. A log message includes the date and time, severity, text, an event code, filename, process name, source and destination IPs, rule ID, button code, source and destination ports, user, network packet, and raw event.</p> <p>IronPort, NAC, and CSA work together to provide a seamless, comprehensive, end-to-end solution for endpoint security in a LAN. However, a LAN can be vulnerable to a number of Layer 2 attacks and VLAN attacks. Beyond endpoint security, attack mitigation in the LAN is a priority.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en2006020000">
<title><content-text>Layer 2 Security Considerations</content-text></title>
<topic type="" id="en2006020100">
<title><content-text>Introducing Layer 2 Security</content-text></title>
<page type="OneColumn" id="en2006020101">
<content-media type="StaticGraphic" id="cm5658318485">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006020000/en2006020100/en2006020101/cm5658318485.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006020000/en2006020100/en2006020101/cm5658318485text.xml"/></content-media>
<content-text><p>Network security professionals must mitigate attacks within the Layer 2 infrastructure. These attacks include MAC address spoofing, STP manipulation, MAC address table overflows, LAN storms, and VLAN attacks.</p> <p>The first step in mitigating attacks such as these is to understand the underlying threats posed by the Layer 2 infrastructure. Layer 2 can be a very weak link to the higher OSI Layers because if Layer 2 is compromised, hackers can work their way up. It is important for the network security professional to remember that Layer 2 attacks typically require internal access, either from an employee or visitor.</p> <p>Another fundamental consideration is buffer overflows. Buffer overflows are often the source of a DoS attack. Buffer overflows can be used to enable the execution of arbitrary code into a program and unauthorized privilege escalation.</p></content-text>
</page>
<page type="OneColumn" id="en2006020102">
<content-media type="StaticGraphic" id="cm1267843498">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006020000/en2006020100/en2006020102/cm1267843498.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006020000/en2006020100/en2006020102/cm1267843498text.xml"/></content-media>
<content-text><p>Layer 2 is the Data Link Layer in the OSI model. It is one of the seven layers designed to work together but with autonomy. Layer 2 operates above the Physical Layer and below the Network and Transport Layers. Layer 2 independence enables interoperability and interconnectivity. From a security perspective, Layer 2 independence creates a challenge because when the layer is compromised, other layers are not aware of that fact, leaving them open to being compromised. Network security is only as strong as the weakest link, and that link is often the Data Link Layer.</p> <p>To help prevent Layer 2 exploitations, an application must carefully validate user input. The input might contain improperly formatted data, control sequences, or too much data, such as with buffer overflows. Remember, buffer overflow exploits try to overwrite memory on an application. </p> <p>Buffer overflows are perhaps the most common method of application subversion on the Internet today. They are mostly used to gain access to root privileges or cause a DoS attack. </p> <p>Tools, such as Cisco Security Agent, can be used to prevent buffer overflows.</p></content-text>
</page>
</topic>
<topic type="" id="en2006020200">
<title><content-text>MAC Address Spoofing Attacks</content-text></title>
<page type="OneColumn" id="en2006020201">
<content-media type="StaticGraphic" id="cm4955819883">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006020000/en2006020200/en2006020201/cm4955819883.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006020000/en2006020200/en2006020201/cm4955819883text.xml"/></content-media>
<content-text><p>Unlike hubs, switches regulate the flow of data between ports by creating instant networks that contain only the two endpoint devices communicating with each other at that moment in time. Switches accomplish this by forwarding data out specific ports based on the MAC address. Switches maintain MAC address tables, also known as content-addressable memory (CAM) lookup tables, to track the source MAC addresses associated with each switch port. These lookup tables are populated by an address-learning process on the switch. </p> <p>It is important to note that data frames are sent by end systems, and their source and destination addresses are not changed throughout the switched domain. If a switch receives an incoming data frame and the destination MAC address is not in the table, the switch forwards the frame out all ports, except for the port on which it was received. When the destination node responds, the switch records the MAC address of the node in the address table from the frame source address field. Switches populate the MAC address table by recording the source MAC address of a frame, and associating that address with the port on which the frame is received.</p> <p>In networks with multiple interconnected switches, the MAC address tables record multiple MAC addresses for the ports interconnecting switches. These MAC addresses reflect remote nodes or nodes that are connected to another switch within the switched domain. </p> <p>The method used by switches to populate the MAC address table leads to a vulnerability known as MAC spoofing. Spoofing attacks occur when one host masquerades or poses as another to receive otherwise inaccessible data or to circumvent security configurations.</p></content-text>
</page>
<page type="OneColumn" id="en2006020202">
<content-media type="StaticGraphic" id="cm9254458350">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006020000/en2006020200/en2006020202/cm9254458350.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006020000/en2006020200/en2006020202/cm9254458350text.xml"/></content-media>
<content-text><p>MAC spoofing attacks occur when an attacker alters the MAC address of their host to match another known MAC address of a target host. The attacking host then sends a frame throughout the network with the newly configured MAC address. When the switch receives the frame, it examines the source MAC address. The switch overwrites the current MAC address table entry and assigns the MAC address to the new port. It then inadvertently forwards frames destined for the target host to the attacking host. </p> <p>When the switch changes the MAC address table, the target host does not receive any traffic until it sends traffic. When the target host sends traffic, the switch receives and examines the frame, resulting in the MAC address table being rewritten once more, realigning the MAC address to the original port.</p></content-text>
</page>
</topic>
<topic type="" id="en2006020300">
<title><content-text>MAC Address Table Overflow Attacks</content-text></title>
<page type="OneColumn" id="en2006020301">
<content-media type="StaticGraphic" id="cm1021749035">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006020000/en2006020300/en2006020301/cm1021749035.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006020000/en2006020300/en2006020301/cm1021749035text.xml"/></content-media>
<content-text><p>In addition to MAC spoofing attacks, MAC address table overflow attacks are also possible on Layer 2 devices. Remember that switches use MAC addresses to direct network communications through their switch fabric to the appropriate port toward the destination node. The term fabric refers to the integrated circuits and the accompanying machine programming that enables device operation. For example, the switch fabric is responsible for controlling the data paths through the switch. The MAC address table in a switch contains the MAC addresses that can be reached from a given physical port of a switch and the associated VLAN parameters for each. When a Layer 2 switch receives a frame, the switch looks in the MAC address table for the destination MAC address and forwards the frames appropriately. </p> <p>The key to understanding how MAC address overflow attacks work is to know that MAC address tables are limited in size. MAC flooding takes advantage of this limitation by bombarding the switch with fake source MAC addresses until the switch MAC address table is full. If enough entries are entered into the MAC address table before older entries expire, the table fills up to the point that no new entries can be accepted. When this occurs, the switch begins to flood all incoming traffic to all ports because there is no room in the table to learn any legitimate MAC addresses. The switch, in essence, acts like a hub. As a result, the attacker can see all of the frames sent from one host to another. Traffic is flooded only within the local VLAN, so the intruder sees only traffic within the local VLAN to which the intruder is connected.</p> <p>If the intruder does not maintain the flood of invalid source MAC addresses, the switch eventually ages out the older MAC address entries from the table and begins to act like a switch again.</p></content-text>
</page>
<page type="OneColumn" id="en2006020302">
<content-media type="StaticGraphic" id="cm9153488485">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006020000/en2006020300/en2006020302/cm9153488485.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006020000/en2006020300/en2006020302/cm9153488485text.xml"/></content-media>
<content-text><p>The most common way of implementing a MAC address table overflow attack is using the <b>macof </b>tool. This tool floods a switch with frames containing randomly generated source and destination MAC and IP addresses. Over a short period of time, the MAC address table fills up. When the MAC address table is full of invalid source MAC addresses, the switch begins to flood all frames that it receives. As long as <b>macof</b> is left running, the table on the switch remains full, and the switch continues to flood all received frames out of every port.</p> <p>Both MAC spoofing and MAC address table overflow attacks can be mitigated by configuring port security on the switch. With port security, the administrator can either statically specify the MAC addresses on a particular switch port or allow the switch to dynamically learn a fixed number of MAC addresses for a switch port. To statically specify the MAC addresses is not a manageable solution for a production environment. Allowing the switch to dynamically learn a fixed number of MAC addresses is an administratively scalable solution.</p></content-text>
</page>
</topic>
<topic type="" id="en2006020400">
<title><content-text>STP Manipulation Attacks</content-text></title>
<page type="OneColumn" id="en2006020401">
<content-media type="StaticGraphic" id="cm8464747804">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006020000/en2006020400/en2006020401/cm8464747804.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006020000/en2006020400/en2006020401/cm8464747804text.xml"/></content-media>
<content-text><p>Another vulnerability of Layer 2 devices is the Spanning Tree Protocol (STP). STP is a Layer 2 protocol that ensures a loop-free topology. STP operates by electing a root bridge and building a tree topology from that root. STP allows for redundancy, but at the same time, ensures that only one link is operational at a time and no loops are present.</p> <p>Network attackers can manipulate STP to conduct an attack by changing the topology of a network. An attacker can make it appear that the attacking host is a root bridge, thereby spoofing the root bridge. All traffic for the immediate switched domain then passes through the rogue root bridge (the attacking system).</p></content-text>
</page>
<page type="OneColumn" id="en2006020402">
<content-media type="StaticGraphic" id="cm5091973654">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006020000/en2006020400/en2006020402/cm5091973654.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006020000/en2006020400/en2006020402/cm5091973654text.xml"/></content-media>
<content-text><p>To conduct an STP manipulation attack, the attacking host broadcasts STP configuration and topology change BPDUs to force spanning-tree recalculations. The BPDUs sent by the attacking host announce a lower bridge priority in an attempt to be elected as the root bridge. If successful, the attacking host becomes the root bridge and sees a variety of frames that otherwise are not accessible.</p> <p>This attack can be used to usurp all three of the security objectives: confidentiality, integrity, and availability.</p> <p>Mitigation techniques for STP manipulation include enabling PortFast as well as root guard and BPDU guard.</p></content-text>
</page>
</topic>
<topic type="" id="en2006020500">
<title><content-text>LAN Storm Attack</content-text></title>
<page type="OneColumn" id="en2006020501">
<content-media type="StaticGraphic" id="cm1129242804">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006020000/en2006020500/en2006020501/cm1129242804.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006020000/en2006020500/en2006020501/cm1129242804text.xml"/></content-media>
<content-text><p>Layer 2 devices are also vulnerable to LAN storm attacks. A LAN storm occurs when packets flood the LAN, creating excessive traffic and degrading network performance. Errors in the protocol stack implementation, mistakes in network configurations, or users issuing a DoS attack can cause a storm. Broadcast storms can also occur on networks. Remember that switches always forward broadcasts out all ports. Some necessary protocols, such as Address Resolution Protocol (ARP) and Dynamic Host Configuration Protocol (DHCP), use broadcasts; therefore, switches must be able to forward broadcast traffic.</p></content-text>
</page>
<page type="OneColumn" id="en2006020502">
<content-media type="StaticGraphic" id="cm8946106893">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006020000/en2006020500/en2006020502/cm8946106893.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006020000/en2006020500/en2006020502/cm8946106893text.xml"/></content-media>
<content-text><p>While it is not possible to prevent all types of packet storms and excessive broadcasts, it is possible to suppress them using storm control. Storm control prevents traffic on a LAN from being disrupted by a broadcast, multicast, or unicast storm on one of the physical interfaces. Storm control (or traffic suppression) monitors packets passing from an interface to the switching bus and determines if the packet is unicast, multicast, or broadcast. The switch counts the number of packets of a specified type received within a certain time interval and compares the measurement with a predefined suppression-level threshold. Storm control then blocks traffic when the rising threshold is reached.</p></content-text>
</page>
</topic>
<topic type="" id="en2006020600">
<title><content-text>VLAN Attacks</content-text></title>
<page type="OneColumn" id="en2006020601">
<content-media type="StaticGraphic" id="cm8361606483">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006020000/en2006020600/en2006020601/cm8361606483.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006020000/en2006020600/en2006020601/cm8361606483text.xml"/></content-media>
<content-text><p>A VLAN is a logical broadcast domain that can span multiple physical LAN segments. Within the switched internetwork, VLANs provide segmentation and organizational flexibility. A VLAN structure can be designed to enable grouping of stations logically by function, project team, or application without regard to the physical location of the users. Each switch port can be assigned to only one VLAN, thereby adding a layer of security. Ports in a VLAN share broadcasts; ports in different VLANs do not share broadcasts. Containing broadcasts within a VLAN improves the overall performance of the network.</p> <p>Using VLAN technology, switch ports and their connected users can be grouped into logically defined communities, such as coworkers in the same department, a cross-functional product team, or diverse user groups sharing the same network application. A VLAN can exist on a single switch or span multiple switches. VLANs can include hosts in a single building or multiple-building infrastructures. VLANs can also connect across metropolitan area networks.</p> <p>There are a number of different types of VLAN attacks prevalent in modern switched networks. Rather than list all the types of attacks, it is important to understand the general methodology behind these attacks and the primary approaches to mitigate them. </p></content-text>
</page>
<page type="OneColumn" id="en2006020602">
<content-media type="StaticGraphic" id="cm4930430375">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006020000/en2006020600/en2006020602/cm4930430375.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006020000/en2006020600/en2006020602/cm4930430375text.xml"/></content-media>
<content-text><p>The VLAN architecture simplifies network maintenance and improves performance, but it also opens the door to abuse. VLAN hopping enables traffic from one VLAN to be seen by another VLAN with the aid of a router. Under certain circumstances, attackers can sniff data and extract passwords and other sensitive information. The attack works by taking advantage of an incorrectly configured trunk port. By default, trunk ports have access to all VLANs and pass traffic for multiple VLANs across the same physical link, generally between switches. The data moving across these links might be encapsulated with IEEE 802.1Q or inter-switch link (ISL).</p> <p>In a basic VLAN hopping attack, the attacker takes advantage of the default automatic trunking configuration on most switches. The network attacker configures a system to spoof itself as a switch. This spoofing requires that the network attacker be capable of emulating either ISL or 802.1Q signaling along with Cisco-proprietary Dynamic Trunking Protocol (DTP) signaling. By tricking a switch into thinking it is another switch that needs to trunk, an attacker can gain access to all the VLANs allowed on the trunk port. This attack requires a configuration on the port that supports trunking with auto or dynamic mode to succeed. As a result, the attacker is a member of all the VLANS that are trunked on the switch and can hop, that is, send and receive traffic on all the VLANs.</p> <p>A VLAN hopping attack can be launched in one of two ways:</p> <p><ul><li> Spoofing DTP messages from the attacking host to cause the switch to enter trunking mode. From here, the attacker can send traffic tagged with the target VLAN, and the switch then delivers the packets to the destination.</li><li> Introducing a rogue switch and enabling trunking. The attacker can then access all the VLANs on the victim switch from the rogue switch.</li></ul></p> <p>The best way to prevent a basic VLAN hopping attack is to turn off trunking on all ports, except the ones that specifically require trunking. On the required trunking ports, disable DTP (auto trunking) negotiations and manually enable trunking.</p></content-text>
</page>
<page type="OneColumn" id="en2006020603">
<content-media type="StaticGraphic" id="cm3519815496">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006020000/en2006020600/en2006020603/cm3519815496.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006020000/en2006020600/en2006020603/cm3519815496text.xml"/></content-media>
<content-text><p>Another type of VLAN attack is a double-tagging (or double-encapsulated) VLAN hopping attack. This type of attack takes advantage of the way that hardware on most switches operates. Most switches perform only one level of 802.1Q decapsulation; this can allow an attacker in specific situations to embed a hidden 802.1Q tag inside the frame. This tag allows the frame to go to a VLAN that the outer 802.1Q tag did not specify. An important characteristic of the double-encapsulated VLAN hopping attack is that it works even if trunk ports are disabled.</p> <p>A double-tagging VLAN hopping attack follows four steps:</p> <p><b>1.</b> The attacker sends a double-tagged 802.1Q frame to the switch. The outer header has the VLAN tag of the attacker, which is the same as the native VLAN of the trunk port. For the purposes of this example, assume that this is VLAN 10. The inner tag is the victim VLAN, in this example, VLAN 20.</p> <p><b>2.</b> The frame arrives on the switch, which looks at the first 4-byte 802.1Q tag. The switch sees that the frame is destined for VLAN 10 and sends it out on all VLAN 10 ports (without the VLAN 10 tag on the trunk), because there is no MAC address table entry. At this point, the second VLAN tag is still intact and has not been inspected by the first switch.</p> <p><b>3.</b> The frame arrives at the second switch but has no knowledge that it was supposed to be for VLAN 10. Native VLAN traffic is not tagged by the sending switch as specified in the 802.1Q specification.</p> <p><b>4.</b> The second switch looks only at the inner 802.1Q tag that the attacker sent and sees that the frame is destined for VLAN 20, the target VLAN. The second switch sends the frame on to the victim port or floods it, depending on whether there is an existing MAC address table entry for the victim host.</p> <p>This type of attack is unidirectional and works only when the attacker and trunk port have the same native VLAN. Thwarting this type of attack is not as easy as stopping basic VLAN hopping attacks. The best approach is to ensure that the native VLAN of the trunk ports is different from the native VLAN of the user ports. In fact, it is considered a security best practice to use a dummy VLAN that is unused throughout the switched LAN as the native VLAN for all 802.1Q trunks in a switched LAN.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en2006030000">
<title><content-text>Configuring Layer 2 Security</content-text></title>
<topic type="" id="en2006030100">
<title><content-text>Configuring Port Security</content-text></title>
<page type="OneColumn" id="en2006030101">
<content-media type="StaticGraphic" id="cm8461204688">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030100/en2006030101/cm8461204688.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030100/en2006030101/cm8461204688text.xml"/></content-media>
<content-text><p>After the vulnerabilities of a Layer 2 device are understood, the next step is to implement mitigation techniques to prevent the attacks that take advantage of those vulnerabilities. For example to prevent MAC spoofing and MAC table overflows, enable port security.</p> <p>Port security allows an administrator to statically specify MAC addresses for a port or to permit the switch to dynamically learn a limited number of MAC addresses. By limiting the number of permitted MAC addresses on a port to one, port security can be used to control unauthorized expansion of the network. </p> <p>When MAC addresses are assigned to a secure port, the port does not forward frames with source MAC addresses outside the group of defined addresses. When a port configured with port security receives a frame, the source MAC address of the frame is compared to the list of secure source addresses that were manually configured or autoconfigured (learned) on the port. If a MAC address of a device attached to the port differs from the list of secure addresses, the port either shuts down until it is administratively enabled (default mode) or drops incoming frames from the insecure host (restrict option). The behavior of the port depends on how it is configured to respond to a security violator. </p> <p>It is recommended that an administrator configure the port security feature to issue a shutdown rather than dropping frames from insecure hosts with the restrict option. The restrict option might fail under the load of an attack.</p></content-text>
</page>
<page type="OneColumn" id="en2006030102">
<content-media type="StaticGraphic" id="cm2545456771">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030100/en2006030102/cm2545456771.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030100/en2006030102/cm2545456771text.xml"/></content-media>
<content-text><p>These are the steps for configuring port security on an access port:</p> <p><b>Step 1.</b> Configure an interface as an access interface.</p> <p><span class="cmd">Switch(config-if)# <b>switchport mode access</b></span></p> <p>If an interface is in the default mode (dynamic auto), it cannot be configured as a secure port.</p> <p><b>Step 2. </b>Enable port security on the interface using the <span class="cmd"><b>switchport port-security</b></span>.</p> <p>The complete syntax includes a number of optional parameters.</p> <p><span class="cmd">Switch(config-if)# <b>switchport port-security </b>[<b>mac-address </b><i>mac-address </i>[<b>vlan</b> {<i>vlan-id</i> | {<b>access</b> | <b>voice</b>}}]] | [<b>mac-address sticky </b>[<i>mac-address</i>| <b>vlan</b> {<i>vlan-id</i> | {<b>access</b> | <b>voice</b>}}]] [<b>maximum </b><i>value</i> [<b>vlan</b> {<i>vlan-list</i> | {<b>access</b> | <b>voice</b>}}]] </span></p> <p><b>Step 3. </b> (Optional) Set the maximum number of secure MAC addresses for the interface.</p> <p> <span class="cmd">Switch(config-if)# <b>switchport port-security maximum </b><i>value</i></span></p> <p>The range is 1 to 132. The default is 1.</p></content-text>
</page>
<page type="OneColumn" id="en2006030103">
<content-media type="StaticGraphic" id="cm7429773036">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030100/en2006030103/cm7429773036.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030100/en2006030103/cm7429773036text.xml"/></content-media>
<content-text><p>After port security is enabled, it is necessary to establish the violation rules for the access port. Violation rules refer to the actions that the switch takes if a security violation occurs.</p> <p>These are the steps for configuring port security violation on an access port:</p> <p><b>Step 1.</b> Set the violation mode. This is the action that the switch takes when a security violation is detected. If the violation mode is not specified, the default is to shut down the port.</p> <p><span class="cmd">Switch(config-if)# <b>switchport port-security violation </b>{<b>protect </b>|<b> restrict </b>|<b> shutdown </b>| <b>shutdown vlan</b>}</span></p> <p>When a secure port is in the error-disabled state, meaning that a violation has occurred and the port is disabled, bring it out of this state by entering the <span class="cmd"><b>errdisable recovery cause psecure-violation</b></span> global configuration command, or manually re-enable it by entering the <span class="cmd"><b>shutdown</b></span> and <span class="cmd"><b>no shutdown</b></span> interface configuration commands.</p> <p><b>Step 2. </b>Enter a static secure MAC address for the interface.</p> <p><span class="cmd">Switch(config-if)# <b>switchport port-security mac-address </b><i>mac-address</i></span></p> <p>Repeat this command as many times as necessary for each secure MAC address.</p> <p><b>Step 3. </b>Enable sticky learning on the interface.</p> <p><span class="cmd">Switch(config-if)# <b>switchport port-security mac-address sticky</b></span></p> <p>When sticky learning is enabled, the interface adds all secure MAC addresses that are dynamically learned, up to the maximum number configured, to the running configuration and converts these addresses to sticky secure MAC addresses.</p> <p>Use the <span class="cmd"><b>no switchport port-security</b></span> interface configuration command to return the interface to the default condition as an unsecure port. The sticky secure addresses remain part of the running configuration.</p> <p>Use the <span class="cmd"><b>no switchport port-security maximum </b><i>value</i></span> interface configuration command to return the interface to the default number of secure MAC addresses.</p> <p>Use the <span class="cmd"><b>no switchport port-security violation </b>{<b>protect </b>| <b>restrict</b>}</span> interface configuration command to return the violation mode to the default condition (shutdown mode).</p></content-text>
</page>
<page type="OneColumn" id="en2006030104">
<content-media type="StaticGraphic" id="cm2361800406">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030100/en2006030104/cm2361800406.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030100/en2006030104/cm2361800406text.xml"/></content-media>
<content-text><p>Port security aging can be used to set the aging time for static and dynamic secure addresses on a port. Two types of aging are supported per port:</p> <p><ul><li> <b>Absolute</b> - The secure addresses on the port are deleted after the specified aging time.</li><li> <b>Inactivity</b> - The secure addresses on the port are deleted only if they are inactive for the specified aging time.</li></ul></p> <p>Use aging to remove secure MAC addresses on a secure port without manually deleting the existing secure MAC addresses. Aging time limits can also be increased to ensure past secure MAC addresses remain even while new MAC addresses are added. Keep in mind the maximum number of secure addresses per port can be configured. Aging of statically configured secure addresses can be enabled or disabled on a per-port basis.</p> <p>Use the <span class="cmd"><b>switchport port-security aging </b>{<b>static </b>|<b> time </b><i>time</i> |<b> type </b>{<b>absolute </b>|<b> inactivity</b>}}</span> command to enable or disable static aging for the secure port or to set the aging time or type.</p></content-text>
</page>
<page type="OneColumn" id="en2006030105">
<content-media type="StaticGraphic" id="cm2330629137">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030100/en2006030105/cm2330629137.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030100/en2006030105/cm2330629137text.xml"/></content-media>
<content-text><p>A typical port security configuration for a voice port requires two secure MAC addresses. The addresses are usually learned dynamically. One MAC address is for the IP phone, and the other address is for the PC connected to the IP phone. Violations of this policy result in the port being shut down. The aging timeout for the learned MAC addresses is set to two hours.</p></content-text>
</page>
</topic>
<topic type="" id="en2006030200">
<title><content-text>Verifying Port Security</content-text></title>
<page type="OneColumn" id="en2006030201">
<content-media type="StaticGraphic" id="cm2780490597">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030200/en2006030201/cm2780490597.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030200/en2006030201/cm2780490597text.xml"/></content-media>
<content-text><p>When port security is enabled, the administrator should use <span class="cmd"><b>show</b></span> commands to verify that the port learned the MAC address. Additionally, <span class="cmd"><b>show</b></span> commands are useful when monitoring and troubleshooting port-security configurations. They can be used to view information such as the maximum number of MAC addresses that can be associated with a port, the violation count, and the current violation mode.</p> <p>Use the <span class="cmd"><b>show port-security</b></span> command to view port security settings for the switch, including violation count, configured interfaces, and security violation actions.</p> <p>Use the <span class="cmd"><b>show port-security </b>[<b>interface </b><i>interface-id</i>]</span> command to view port security settings for the specified interface, including the maximum allowed number of secure MAC addresses for the interface, the number of secure MAC addresses on the interface, the number of security violations that have occurred, and the violation mode.</p></content-text>
</page>
<page type="OneColumn" id="en2006030202">
<content-media type="StaticGraphic" id="cm3842349508">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030200/en2006030202/cm3842349508.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030200/en2006030202/cm3842349508text.xml"/></content-media>
<content-text><p>Use the <span class="cmd"><b>show port-security </b>[<b>interface </b><i>interface-id</i>] <b>address</b></span> command to view all secure MAC addresses configured on all switch interfaces or on a specified interface with aging information for each address.</p></content-text>
</page>
<page type="OneColumn" id="en2006030203">
<content-media type="StaticGraphic" id="cm4880645185">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030200/en2006030203/cm4880645185.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030200/en2006030203/cm4880645185text.xml"/></content-media>
<content-text><p>Network managers need a way of monitoring who is using the network and where they are. For example, if port F2/1 is secure on a switch, an SNMP trap is generated when a MAC address entry for that port disappears from the MAC address table.</p> <p>The MAC address notification feature sends SNMP traps to the network management station (NMS) whenever a new MAC address is added to or an old address is deleted from the forwarding tables. MAC address notifications are generated only for dynamic and secure MAC addresses.</p> <p>MAC address notification allows the network administrator to monitor MAC addresses that are learned as well as MAC addresses that age out and are removed from the switch.</p> <p>Use the <span class="cmd"><b>mac address-table notification</b></span> global configuration command to enable the MAC address notification feature on a switch.</p></content-text>
</page>
</topic>
<topic type="" id="en2006030300">
<title><content-text>Configuring BPDU Guard and Root Guard</content-text></title>
<page type="OneColumn" id="en2006030301">
<content-media type="StaticGraphic" id="cm5127547286">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030300/en2006030301/cm5127547286.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030300/en2006030301/cm5127547286text.xml"/></content-media>
<content-text><p>To mitigate STP manipulation the PortFast, root guard, and BPDU guard STP enhancement commands can be enabled. These features enforce the placement of the root bridge in the network and enforce the STP domain borders.</p> <p><b>PortFast</b></p> <p>The spanning-tree PortFast feature causes an interface configured as a Layer 2 access port to transition from the blocking to the forwarding state immediately, bypassing the listening and learning states. PortFast can be used on Layer 2 access ports that connect to a single workstation or server to allow those devices to connect to the network immediately, instead of waiting for STP to converge.</p> <p>Because the purpose of PortFast is to minimize the time that access ports must wait for STP to converge, it should be used only on access ports. If PortFast is enabled on a port connecting to another switch, there is a risk of creating a spanning-tree loop.</p> <p>This command configures PortFast for all non-trunking ports at once.</p> <p><span class="cmd">Switch(config)# <b>spanning-tree portfast default</b></span></p> <p>This command configures Portfast on an interface.</p> <p><span class="cmd">Switch(config-if)# <b>spanning-tree portfast</b></span></p> <p>This command verifies that PortFast has been configured on an interface.</p> <p><span class="cmd">Switch# <b>show running-config interface FastEthernet 0/8</b></span></p></content-text>
</page>
<page type="OneColumn" id="en2006030302">
<content-media type="StaticGraphic" id="cm3670919505">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030300/en2006030302/cm3670919505.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030300/en2006030302/cm3670919505text.xml"/></content-media>
<content-text><p><b>BPDU Guard</b></p> <p>The STP BPDU guard feature allows network designers to keep the active network topology predictable. BPDU guard is used to protect the switched network from the problems caused by receiving BPDUs on ports that should not be receiving them. The receipt of unexpected BPDUs might be accidental or part of an unauthorized attempt to add a switch to the network.</p> <p>If a port that is configured with PortFast receives a BPDU, STP can put the port into the disabled state by using BPDU guard.</p> <p>BPDU guard is best deployed toward user-facing ports to prevent rogue switch network extensions by an attacking host.</p> <p>Use this command to enable BPDU guard on all ports with PortFast enabled.</p> <p><span class="cmd">Switch(config)# <b>spanning-tree portfast bpduguard default</b></span></p></content-text>
</page>
<page type="OneColumn" id="en2006030303">
<content-media type="StaticGraphic" id="cm9797376748">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030300/en2006030303/cm9797376748.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030300/en2006030303/cm9797376748text.xml"/></content-media>
<content-text><p>To display information about the state of spanning tree, use the <span class="cmd"><b>show spanning-tree summary</b></span> command. In this output, BPDU guard is enabled.</p> <p><span class="cmd">Switch# <b>show spanning-tree summary</b></span></p> <span class="cmd"><p>Root bridge for: VLAN0001, VLAN0004-VLAN1005 </p></span> <span class="cmd"><p>VLAN1013-VLAN1499, VLAN2001-VLAN4094</p></span> <p><span class="cmd">EtherChannel misconfiguration guard is enabled</span></p> <p><span class="cmd">Extended system ID is enabled</span></p> <p><span class="cmd">Portfast is enabled by default</span></p> <p><span class="cmd">PortFast BPDU Guard is enabled</span></p> <p><span class="cmd">Portfast BPDU Filter is disabled by default</span></p> <p><span class="cmd">Loopguard is disabled by default</span></p> <p><span class="cmd">UplinkFast is disabled</span></p> <p><span class="cmd">BackboneFast is disabled</span></p> <p><span class="cmd">Pathcost method used is long</span></p> <p><span class="cmd">&lt;output omitted></span></p> <p>Another useful command to verify BPDU guard configuration is the <span class="cmd"><b>show spanning-tree summary totals</b></span> command.</p></content-text>
</page>
<page type="OneColumn" id="en2006030304">
<content-media type="StaticGraphic" id="cm9567715091">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030300/en2006030304/cm9567715091.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030300/en2006030304/cm9567715091text.xml"/></content-media>
<content-text><p><b>Root Guard</b></p> <p>The Cisco switch root guard feature provides a way to enforce the placement of root bridges in the network. Root guard limits the switch ports out of which the root bridge can be negotiated. If a root-guard-enabled port receives BPDUs that are superior to those that the current root bridge is sending, that port is moved to a root-inconsistent state, which is effectively equal to an STP listening state, and no data traffic is forwarded across that port.</p> <p>Because an administrator can manually set the bridge priority of a switch to zero, root guard may seem unnecessary. Setting the priority of a switch to zero does not guarantee that switch will be elected as the root bridge, because there might be another switch with a priority of zero and a lower MAC address, and therefore a lower bridge ID.</p> <p>Root guard is best deployed toward ports that connect to switches that should not be the root bridge.</p> <p>With root guard, if an attacking host sends out spoofed BPDUs in an effort to become the root bridge, the switch, upon receipt of a BPDU, ignores the BPDU and puts the port in a root-inconsistent state. The port recovers as soon as the offending BPDUs cease.</p> <p>BPDU guard and root guard are similar, but their impact is different. BPDU guard disables the port upon BPDU reception if PortFast is enabled on the port. The disablement effectively denies devices behind such ports from participating in STP. The administrator must manually re-enable the port that is put into errdisable state or configure an errdisable timeout. </p> <p>Root guard allows the device to participate in STP as long as the device does not try to become the root. If root guard blocks the port, subsequent recovery is automatic. Recovery occurs as soon as the offending device ceases to send superior BPDUs.</p> <p>This is the command for configuring root guard on an interface.</p> <p><span class="cmd">Switch(config-if)# <b>spanning-tree guard root</b></span></p></content-text>
</page>
<page type="OneColumn" id="en2006030305">
<content-media type="StaticGraphic" id="cm4231321069">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030300/en2006030305/cm4231321069.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030300/en2006030305/cm4231321069text.xml"/></content-media>
<content-text><p>To verify root guard, use the <span class="cmd"><b>show spanning-tree inconsistentports</b></span> command. Keep in mind that a switch places a port in a root-inconsistent state if it receives BPDUs on a port that should not be receiving BPDUs. The port recovers as soon as the offending BPDUs cease.</p></content-text>
</page>
</topic>
<topic type="" id="en2006030400">
<title><content-text>Configuring Storm Control</content-text></title>
<page type="OneColumn" id="en2006030401">
<content-media type="StaticGraphic" id="cm5861856597">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030400/en2006030401/cm5861856597.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030400/en2006030401/cm5861856597text.xml"/></content-media>
<content-text><p>LAN storm attacks can be mitigated by using storm control to monitor predefined suppression-level thresholds. When enabling storm control, both a rising threshold and a falling threshold can be set.</p> <p>Storm control uses one of these methods to measure traffic activity: </p> <p><ul><li> Bandwidth as a percentage of the total available bandwidth of the port that can be used by the broadcast, multicast, or unicast traffic.</li><li> Traffic rate in packets per second at which broadcast, multicast, or unicast packets are received.</li><li> Traffic rate in bits per second at which broadcast, multicast, or unicast packets are received.</li><li>Traffic rate in packets per second and for small frames. This feature is enabled globally. The threshold for small frames is configured for each interface. </li></ul></p> <p>With each method, the port blocks traffic when the predefined rising threshold is reached. The port remains blocked until the traffic rate drops below the falling threshold if one is specified, and then resumes normal forwarding. If the falling threshold is not specified, the switch blocks all traffic until the traffic rate drops below the rising threshold. The threshold, or suppression level, refers to the number of packets allowed before action is taken. In general, the higher the suppression level, the less effective the protection against broadcast storms. </p> <p>Use the <span class="cmd"><b>storm-control</b></span> interface configuration command to enable storm control on an interface and set the threshold value for each type of traffic. The storm-control suppression level can be configured as a percentage of total bandwidth of the port, as a rate in packets per second at which traffic is received, or as a rate in bits per second at which traffic is received.</p></content-text>
</page>
<page type="OneColumn" id="en2006030402">
<content-media type="StaticGraphic" id="cm9878623209">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030400/en2006030402/cm9878623209.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030400/en2006030402/cm9878623209text.xml"/></content-media>
<content-text><p>When the traffic suppression level is specified as a percentage (up to two decimal places) of the total bandwidth, the level can be from 0.00 to 100.00. A threshold value of 100 percent means that no limit is placed on the specified type of traffic (broadcast, multicast or unicast). A value of 0.0 means that all traffic of that type on that port is blocked.</p> <p>Threshold percentages are approximations because of hardware limitations and the way in which packets of different sizes are counted. Depending on the packet sizes that make up the incoming traffic, the actual enforced threshold might differ from the configured level by several percentage points.</p> <p>Storm control is supported on physical interfaces. With Cisco IOS Release 12.2(25), storm control can also be configured on EtherChannels. When configuring storm control on an EtherChannel, the storm control settings propagate to the EtherChannel physical interfaces.</p> <p>This is the complete syntax for the <span class="cmd"><b>storm-control</b></span> command.</p> <p><span class="cmd"><b>storm-control</b> {{<b>broadcast</b> | <b>multicast</b> | <b>unicast</b>} <b>level</b> {<i>level</i> [<i>level-low</i>] | <b>bps </b><i>bps</i> [<i>bps-low</i>] | <b>pps </b><i>pps</i> [<i>pps-low</i>]}} | {<b>action</b> {<b>shutdown</b> | <b>trap</b>}}</span></p> <p>The <span class="cmd"><b>trap</b></span> and <span class="cmd"><b>shutdown</b></span> options are independent of each other.</p> <p>If the <span class="cmd"><b>trap</b></span> action is configured, the switch will send an SNMP log message when a storm occurs. </p> <p>If the <span class="cmd"><b>shutdown</b></span> action is configured, the port is error-disabled during a storm, and the <span class="cmd"><b>no shutdown</b></span> interface configuration command must be used to bring the interface out of this state.</p> <p>When a storm occurs and the action is to filter traffic, if the falling suppression level is not specified, the switch blocks all traffic until the traffic rate drops below the rising suppression level. If the falling suppression level is specified, the switch blocks traffic until the traffic rate drops below this level.</p></content-text>
</page>
<page type="OneColumn" id="en2006030403">
<content-media type="StaticGraphic" id="cm9255283225">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030400/en2006030403/cm9255283225.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030400/en2006030403/cm9255283225text.xml"/></content-media>
<content-text><p>Use the <span class="cmd"><b>show storm-control</b> [<b>interface</b>] [{<b>broadcast</b> | <b>multicast</b> | <b>unicast</b> | <b>history</b>}]</span> command to verify storm control settings. This command displays storm control suppression levels set on all interfaces, or the specified interface, for the specified traffic type. If no traffic type is specified, the default is broadcast traffic.</p></content-text>
</page>
</topic>
<topic type="" id="en2006030500">
<title><content-text>Configuring VLAN Trunk Security</content-text></title>
<page type="OneColumn" id="en2006030501">
<content-media type="StaticGraphic" id="cm3333532945">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030500/en2006030501/cm3333532945.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030500/en2006030501/cm3333532945text.xml"/></content-media>
<content-text><p>The best way to mitigate VLAN hopping attacks is to ensure that trunking is only enabled on ports that require trunking. Additionally, be sure to disable DTP (auto trunking) negotiations and manually enable trunking.</p> <p>To prevent a VLAN hopping attack that uses double 802.1Q encapsulation, the switch must look further into the frame to determine whether more than one VLAN tag is attached to it. Unfortunately, most switches have hardware that is optimized to look for one tag and then to switch the frame. The issue of performance versus security requires administrators to balance their requirements carefully.</p> <p>Mitigating VLAN hopping attacks that use double 802.1Q encapsulation requires several modifications to the VLAN configuration. One of the more important elements is to use a dedicated native VLAN for all trunk ports. This attack is easy to stop when following the recommended practice of not using native VLANs for trunk ports anywhere else on the switch. In addition, disable all unused switch ports and place them in an unused VLAN.</p></content-text>
</page>
<page type="OneColumn" id="en2006030502">
<content-media type="StaticGraphic" id="cm9972280381">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030500/en2006030502/cm9972280381.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030500/en2006030502/cm9972280381text.xml"/></content-media>
<content-text><p>To control trunking for ports, several options are available.</p> <p>For links that are not intended as trunks, use the <span class="cmd"><b>switchport mode access</b></span> interface configuration command to disable trunking.</p> <p>There are three steps to create trunk links: </p> <p><b>Step 1.</b> Use the <span class="cmd"><b>switchport mode trunk</b></span> interface configuration command to cause the interface to become a trunk link.</p> <p><b>Step 2.</b> Use the <span class="cmd"><b>switchport nonegotiate</b></span> interface configuration command to prevent the generation of DTP frames. </p> <p><b>Step 3.</b> Use the <span class="cmd"><b>switchport trunk native vlan </b><i>vlan_number</i></span> interface configuration command to set the native VLAN on the trunk to an unused VLAN. The default native VLAN is VLAN 1.</p></content-text>
</page>
</topic>
<topic type="" id="en2006030600">
<title><content-text>Configuring Cisco Switched Port Analyzer</content-text></title>
<page type="OneColumn" id="en2006030601">
<content-media type="StaticGraphic" id="cm6337054464">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030600/en2006030601/cm6337054464.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030600/en2006030601/cm6337054464text.xml"/></content-media>
<content-text><p>In addition to the mitigation techniques, it is also possible to configure a Layer 2 device to support traffic analysis. Network traffic passing through ports or VLANs can be analyzed by using switched port analyzer (SPAN) or remote SPAN (RSPAN). SPAN can be configured to send a copy of the traffic to another port on the switch, on another switch that has been connected to a network analyzer, or other monitoring or security device. SPAN copies (or mirrors) traffic received, sent, or both on source ports or source VLANs to a destination port for analysis. SPAN does not affect the switching of network traffic on the source ports or VLANs. The destination port is dedicated for SPAN use. Except for traffic that is required for the SPAN or RSPAN session, destination ports do not receive or forward traffic. Interfaces should usually be monitored in both directions, while VLANs should be monitored in only one direction.</p> <p>SPAN is not required for syslog or SNMP. SPAN is used to mirror traffic, while syslog and SNMP are configured to send data directly to the appropriate server. SPAN does not mitigate attacks, but it does enable monitoring of malicious activity.</p></content-text>
</page>
<page type="OneColumn" id="en2006030602">
<content-media type="StaticGraphic" id="cm1283547610">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030600/en2006030602/cm1283547610.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030600/en2006030602/cm1283547610text.xml"/></content-media>
<content-text><p>A SPAN session can be configured to monitor source port traffic to a destination port. In this example, the existing SPAN configuration for session 1 is deleted, and then bidirectional traffic is mirrored from source Gigabit Ethernet port 0/1 to destination Gigabit Ethernet port 0/2, retaining the encapsulation method.</p> <p><span class="cmd">Switch(config)# <b>no monitor session 1</b></span></p> <p><span class="cmd">Switch(config)# <b>monitor session 1 source interface gigabitethernet0/1</b></span></p> <p><span class="cmd">Switch(config)# <b>monitor session 1 destination interface gigabitethernet0/2 encapsulation replicate</b></span></p> <p><span class="cmd">Switch(config)# <b>end</b></span></p> <p>Another example illustrates the capture of received and transmitted traffic for VLANs 10 and 20, respectively.</p> <p><span class="cmd">Switch(config)# <b>monitor session 1 source vlan 10 rx</b></span></p> <p><span class="cmd">Switch(config)# <b>monitor session 1 source vlan 20 tx</b></span></p> <p><span class="cmd">Switch(config)# <b>monitor session 1 destination interface FastEthernet 3</b>/<b>4</b></span></p> <p>To verify SPAN configuration, use the <span class="cmd"><b>show monitor session </b><i>session-number</i></span> command.</p></content-text>
</page>
<page type="OneColumn" id="en2006030603">
<content-media type="StaticGraphic" id="cm2839767633">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030600/en2006030603/cm2839767633.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030600/en2006030603/cm2839767633text.xml"/></content-media>
<content-text><p>An intrusion detection system (IDS) has the ability to detect misuse, abuse, and unauthorized access to networked resources. SPAN can be used to mirror traffic to another port where a probe or an IDS sensor is connected. When an IDS sensor detects an intruder, the sensor can send out a TCP reset that tears down the intruder connection within the network, immediately removing the intruder from the network.</p> <p>SPAN is commonly deployed when an IDS is added to a network. IDS devices need to read all packets in one or more VLANs, and SPAN can be used to get the packets to the IDS devices.</p></content-text>
</page>
</topic>
<topic type="" id="en2006030700">
<title><content-text>Configuring Cisco Remote Switched Port Analyzer</content-text></title>
<page type="OneColumn" id="en2006030701">
<content-media type="StaticGraphic" id="cm2623289535">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030700/en2006030701/cm2623289535.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030700/en2006030701/cm2623289535text.xml"/></content-media>
<content-text><p>RSPAN has all the features of SPAN, plus support for source ports and destination ports that are distributed across multiple switches, allowing one to monitor any destination port located on the RSPAN VLAN. This allows an administrator to monitor the traffic on one switch using a device on another switch.</p> <p>RSPAN can be used to forward traffic to reach an IDS that is analyzing traffic for malicious behavior. Source ports for the spanned traffic can be on multiple switches. If the purpose is intrusion detection, the IDS examines the traffic forwarded by all the source devices. If an attacker compromises the internal network through a perimeter router, a copy of the intruder traffic is forwarded to the IDS for examination.</p> <p>As with SPAN, RSPAN is not required for syslog or SNMP and is only used to mirror traffic, not send data directly to a defined server. RSPAN does not mitigate attacks, but it does enable monitoring of malicious activity.</p></content-text>
</page>
<page type="OneColumn" id="en2006030702">
<content-media type="StaticGraphic" id="cm7962184033">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030700/en2006030702/cm7962184033.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030700/en2006030702/cm7962184033text.xml"/></content-media>
<content-text><p>To configure RSPAN, start by configuring the RSPAN VLAN. Here, VLAN 100 is created and configured as an RSPAN VLAN.</p> <p><span class="cmd">2960-1(config)# <b>vlan 100</b></span></p> <p><span class="cmd">2960-1(config-vlan)# <b>remote-span</b></span></p> <p><span class="cmd">2960-1(config-vlan)# <b>exit</b></span></p> <p>Next, it is necessary to configure the RSPAN source ports and VLANs. The traffic captured from the source port is mirrored to a dedicated reflector port, which simply acts like a loopback interface in that it reflects the captured traffic to the RSPAN VLAN. No traffic is actually sent out the reflector port. It merely provides an internal loopback mechanism for RSPAN source sessions. A reflector port exists only for an RSPAN source session. In this example, there is only one source port.</p> <p><span class="cmd">2960-1(config)# <b>monitor session 1 source interface FastEthernet 0/1</b></span></p> <p><span class="cmd">2960-1(config)# <b>monitor session 1 destination remote vlan 100 reflector-port FastEthernet 0/24</b></span></p> <p><span class="cmd">2960-1(config)# <b>interface FastEthernet 0/2</b></span></p> <p><span class="cmd">2960-1(config-if)# <b>switchport mode trunk</b></span></p> <p>Finally, configure the RSPAN traffic to be forwarded out an interface toward the IDS. In this example, the traffic destined for VLAN 100 is forwarded out interface Fast Ethernet 0/2.</p> <p><span class="cmd">2960-2(config)#<b> monitor session 2 source remote vlan 100</b></span></p> <p><span class="cmd">2960-2(config)# <b>monitor session 2 destination interface FastEthernet 0/3</b></span></p> <p><span class="cmd">2960-2(config)# <b>interface FastEthernet 0/2</b></span></p> <p><span class="cmd">2960-2(config-if)# <b>switchport mode trunk</b></span></p></content-text>
</page>
<page type="OneColumn" id="en2006030703">
<content-media type="StaticGraphic" id="cm8211684552">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030700/en2006030703/cm8211684552.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030700/en2006030703/cm8211684552text.xml"/></content-media>
<content-text><p>Use the <span class="cmd"><b>show monitor</b></span> and <span class="cmd"><b>show interfaces trunk</b></span> commands to verify RSPAN configuration.</p> <p>SPAN and RSPAN are used to mirror traffic for the purpose of protocol analysis or intrusion detection and prevention. A number of tools and technologies for securing the LAN infrastructure have been explored. IronPort, NAC, and CSA secure the endpoints from various threats, including buffer overflows, viruses, trojans, and worms. Technologies such as BPDU guard and root guard work to prevent STP manipulation attacks. Storm control helps to prevent LAN storms. Port security ensures that the proper hosts are attaching to switch ports. Layer 2 switching best practices prevent VLAN attacks. But the modern LAN also includes wireless devices, IP telephony devices, and storage area networking devices. These devices and the traffic associated with them need to be secured.</p></content-text>
</page>
</topic>
<topic type="" id="en2006030800">
<title><content-text>Recommended Practices for Layer 2</content-text></title>
<page type="OneColumn" id="en2006030801">
<content-media type="StaticGraphic" id="cm9939474713">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030800/en2006030801/cm9939474713.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030800/en2006030801/cm9939474713text.xml"/></content-media>
<content-text><p>Layer 2 guidelines are dependent on the particular security policy of an organization.</p> <p>It is important to manage switches like routers, using secure protocols or out-of-band methods if policy permits it. Turn off services that are not necessary and ports that are not being used. Implement various security services, such as port security and STP enhancements, as necessary and as supported by the hardware. Turn Cisco Discovery Protocol (CDP) off on ports that do not connect to network devices, with the exception of ports that connect to Cisco IP phones.</p></content-text>
</page>
<page type="OneColumn" id="en2006030802">
<content-media type="StaticGraphic" id="cm3666804768">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006030000/en2006030800/en2006030802/cm3666804768.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006030000/en2006030800/en2006030802/cm3666804768text.xml"/></content-media>
<content-text><p>By default, VLAN 1 is the management VLAN. Also, by default, all ports are members of VLAN 1 (VLAN1 is the default user VLAN). In addition, VLAN1 is the default native VLAN for all trunk ports. For this reason, it is strongly recommended that VLAN 1 not be used for anything. All unused ports should be assigned to an unused VLAN. All trunk ports should be assigned to an unused dummy VLAN. The management VLAN should be assigned to an unused VLAN, not coinciding with any user VLAN, the management VLAN, or the native VLAN.</p></content-text>
</page>
</topic>
</section>
<section type="" id="en2006040000">
<title><content-text>Wireless, VoIP, and SAN Security</content-text></title>
<topic type="" id="en2006040100">
<title><content-text>Enterprise Advanced Technology Security Considerations</content-text></title>
<page type="OneColumn" id="en2006040101">
<content-media type="StaticGraphic" id="cm7857722705">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040100/en2006040101/cm7857722705.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040100/en2006040101/cm7857722705text.xml"/></content-media>
<content-text><p>Wireless LAN technology has been a powerful driver for advances in network security. With greater ease of access via wireless devices comes a greater need for comprehensive wireless security solutions.</p> <p>Similarly, the advent of Voice over IP (VoIP) and all the accompanying devices and technologies (IP telephony), has motivated several advances in security. Who would want their telephone call intercepted by a hacker? It is worthwhile to describe the drivers for VoIP implementations, the components that are required in VoIP networks, and VoIP service issues. The natural progression is to explore the implications of implementing security measures in IP networks that transport voice.</p> <p>Storage area networks (SANs) offer a solution to the increasing cost of network and server downtime. Given that the purpose of network security is to secure data (including voice and video), and the fact that data now typically resides on a SAN, it is essential that the SAN be secured.</p></content-text>
</page>
<page type="OneColumn" id="en2006040102">
<content-media type="StaticGraphic" id="cm3814166641">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040100/en2006040102/cm3814166641.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040100/en2006040102/cm3814166641text.xml"/></content-media>
<content-text><p>Modern enterprise networks typically employ wireless controllers, access points, and a wireless management system to deliver comprehensive protection against wireless attacks. The wireless environment is secured with infrastructure-integrated threat protection, advanced visibility into the RF environment, and wired network security collaboration.</p> <p>An infrastructure-integrated approach to comprehensive wireless security reduces costs while streamlining security operations. Such a solution has a number of benefits: </p> <p><ul><li> Proactive threat and intrusion detection capabilities detect wireless attacks and prevent them.</li><li> Comprehensive protection safeguards confidential data and communications.</li><li> A single user identity and policy simplifies user management and protects against unauthorized access.</li><li> Collaboration with wired security systems enables a superset of wireless security functionality and protection.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en2006040103">
<content-media type="StaticGraphic" id="cm2850081684">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040100/en2006040103/cm2850081684.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040100/en2006040103/cm2850081684text.xml"/></content-media>
<content-text><p>IP phones, IP Private Branch Exchanges (PBXs), voice gateways, voice mail systems, and the requisite protocols are also common in an enterprise network. These technologies and protocols enhance productivity and ultimately save the organization on telephony costs. By using an IP PBX, organizations can eliminate the legacy PBX and enjoy IP telephony benefits over a converged network. An IP PBX provides call-control functionality and, when used in conjunction with IP phone sets or a soft phone application, it can provide PBX functionality in a distributed and scalable fashion. Cisco IP telephony solution deployment models fall into one of these categories:</p> <p><ul><li> Single-site deployment</li><li> Centralized call processing with remote branches</li><li> Distributed call processing deployment</li><li> Clustering over the IP WAN</li></ul></p> <p>Selection of the deployment model depends on the organization's requirements, such as the size of the network, features, and availability of the WAN bandwidth. </p></content-text>
</page>
<page type="OneColumn" id="en2006040104">
<content-media type="StaticGraphic" id="cm5488249355">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040100/en2006040104/cm5488249355.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040100/en2006040104/cm5488249355text.xml"/></content-media>
<content-text><p>Enterprise networks also utilize storage area networking. Storage networking is central to the contemporary data center architecture, providing a networking platform that helps IT departments achieve lower total cost of ownership, enhanced resiliency, and greater agility. Storage network solutions provide:</p> <p><ul><li> <b>Investment protection - </b>First, second, and third generations can all coexist in existing customer chassis and new switch configurations.</li><li> <b>Virtualization - </b>IT managers can provision their storage infrastructure.</li><li> <b>Security - </b>Data is protected when it is at rest and while it is being transported and replicated.</li><li> <b>Consolidation - </b>Storage professionals can consolidate resources by taking advantage of highly scalable, intelligent SAN platforms.</li><li> <b>Availability - </b>Instantaneous access to data is available from multiple tiers for disaster recovery.</li></ul></p> <p>Wireless LANs rely on radio frequency (RF) technology. RF technology has existed since the late nineteenth century. VoIP technology became commercially available in the 1990s. SAN technology did not formally enter the market until the early 2000s. The approach here follows the historical order.</p></content-text>
</page>
</topic>
<topic type="" id="en2006040200">
<title><content-text>Wireless Security Considerations</content-text></title>
<page type="OneColumn" id="en2006040201">
<content-media type="StaticGraphic" id="cm3563397282">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040200/en2006040201/cm3563397282.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040200/en2006040201/cm3563397282text.xml"/></content-media>
<content-text><p>In the early 2000s, the autonomous access point (AP) deployment model was quickly replaced by the lightweight access point deployment model. Lightweight APs depend on wireless LAN controllers (WLCs) for their configurations. This differs from autonomous APs, which require individual configuration of each device. The lightweight AP-wireless controller solution has several benefits that were not previously available, such as rogue AP detection and location.</p> <p>Cisco WLCs are responsible for system-wide wireless LAN functions, such as security policies, intrusion prevention, RF management, QoS, and mobility. These functions work in conjunction with APs and the Cisco Wireless Control System (WCS) to support wireless applications. From voice and data services to location tracking, Cisco WLCs provide the control, scalability, security, and reliability to build secure, enterprise-scale wireless networks from branch offices to main campuses.</p> <p>Cisco WLCs smoothly integrate into existing enterprise networks. They communicate with lightweight APs over any Layer 2 or Layer 3 infrastructure using the Lightweight Access Point Protocol (LWAPP). These devices support automation of numerous WLAN configuration and management functions across all enterprise locations.</p> <p>Because the Cisco WLCs support IEEE 802.11a/b/g and the 802.11n standards, organizations can deploy the solution that best meets their individual requirements. Organizations can offer robust coverage with 802.11a/b/g or deliver greater performance with five times the throughput and the increased reliability of 802.11n.</p></content-text>
</page>
<page type="OneColumn" id="en2006040202">
<content-media type="StaticGraphic" id="cm7824005982">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040200/en2006040202/cm7824005982.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040200/en2006040202/cm7824005982text.xml"/></content-media>
<content-text><p>With pervasive wireless Internet access available, hackers now have expanded opportunities to covertly connect to remote networks. Whether a skilled hacker or a novice to wireless technology, opportunities abound for exploiting weaknesses in wireless networks. </p> <p>The most popular form of wireless hacking is called war driving, where a hacker attempts to gain access to wireless networks on their laptop while driving around a metropolitan or suburban area. A neighbor might hack into another neighbor's wireless network to get free Internet access or to access confidential information. Airports, fast food restaurants, and coffee shops frequently offer Internet access, which again gives hackers the opportunity to compromise the data of other users. A hacker might even try to connect to another computer using ad hoc mode in a public area.</p> <p>It is never safe to connect to an open wireless network, especially in a public area, unless the connection is followed by an encrypted VPN connection to another network. With respect to the enterprise network, remember that most security attacks come from the inside. These attacks can be intentionally launched by a disgruntled employee, or they might be unintentionally activated by a computer that is infected by a virus. Many organizations, as part of their security policies, do not allow employees to install their own APs in the worksite.</p></content-text>
</page>
<page type="OneColumn" id="en2006040203">
<content-media type="StaticGraphic" id="cm4321380053">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040200/en2006040203/cm4321380053.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040200/en2006040203/cm4321380053text.xml"/></content-media>
<content-text><p>Wireless hackers have an array of tools at their disposal, depending on their level of sophistication and determination:</p>  <p><ul><li> Network Stumbler software finds wireless networks. </li><li> Kismet software displays wireless networks that do not broadcast their SSIDs.</li><li> AirSnort software sniffs and cracks WEP keys. </li><li> CoWPAtty cracks WPA-PSK (WPA1). </li><li> ASLEAP gathers authentication data. </li><li> Wireshark can scan wireless Ethernet data and 802.11 SSIDs.</li></ul></p> <p>For the more determined hacker, a spectrum analyzer can be used to identify, classify, and find sources of Wi-Fi RF signals. Modern spectrum analyzers can identify the specific types of devices that are causing RF interference and track them to their physical location.</p></content-text>
</page>
</topic>
<topic type="" id="en2006040300">
<title><content-text>Wireless Security Solutions</content-text></title>
<page type="OneColumn" id="en2006040301">
<content-media type="StaticGraphic" id="cm6208770120">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040300/en2006040301/cm6208770120.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040300/en2006040301/cm6208770120text.xml"/></content-media>
<content-text><p>The first wireless LANs (WLANs) emerged in 1990. These WLANs were totally open, with no authentication or encryption required. The first security option for WLANs was a service set identifier (SSID). Later implementations enabled the use of SSIDs without the APs broadcasting the SSIDs.</p> <p>The IEEE 802.11b standard defined the Wired Equivalent Privacy (WEP) security protocol for encrypting data between radio endpoints. For several years, WEP implementations were the only means for securing WLANs. Weaknesses in WEP led to the development of newer technologies, based on protocols such as Temporal Key Integrity Protocol (TKIP) and ciphers such as Advanced Encryption Standard (AES). Wi-Fi Protected Access (WPA) implements TKIP and is more secure than WEP. WPA2 implements AES and is more secure than WPA. WPA2, an interoperable implementation of 802.11i, is currently the state of the art in wireless security.</p> <p>Along the way, authentication was added as an option to securing WLANs and is now a fundamental component of enterprise wireless policy. The 802.11i architecture specifies 802.1X for authentication, entailing the use of EAP and an authentication server.</p></content-text>
</page>
<page type="OneColumn" id="en2006040302">
<content-media type="StaticGraphic" id="cm7273208887">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040300/en2006040302/cm7273208887.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040300/en2006040302/cm7273208887text.xml"/></content-media>
<content-text><p>When designing and using wireless networks, it is a good idea for the network security professional to maintain an appropriate level of paranoia. Wireless networks are extremely inviting to hackers.</p> <p>Fortunately, if a few precautions are taken, network administrators can decrease the risk for wireless users. The network administrator should keep several security considerations in mind:</p> <p><ul><li> Wireless networks using WEP or WPA/TKIP are not very secure and are vulnerable to hacking attacks. </li><li> Wireless networks using WPA2/AES should have a pass phrase of at least 21 characters.</li><li> If an IPsec VPN is available, use it on any public wireless LAN.</li><li> If wireless access is not needed, disable the wireless radio or wireless NIC.</li></ul></p> <p>As a network security professional, deploying a wireless solution should absolutely require WPA2/AES together with authentication. Authentication should be handled by a centralized authentication server. </p></content-text>
</page>
</topic>
<topic type="" id="en2006040400">
<title><content-text>VoIP Security Considerations</content-text></title>
<page type="OneColumn" id="en2006040401">
<content-media type="StaticGraphic" id="cm1045018040">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040400/en2006040401/cm1045018040.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040400/en2006040401/cm1045018040text.xml"/></content-media>
<content-text><p>VoIP is the transmission of voice traffic over IP-based networks. IP was originally designed for data networking, but its success in data networking has led to its adaptation to voice traffic.</p> <p>VoIP has become popular largely because of the cost savings over traditional telephone networks. On traditional telephone networks, most people pay a flat monthly fee for local telephone calls and a per-minute charge for long-distance calls. VoIP calls are placed using the Internet, with most Internet connections being charged a flat monthly fee. Using the Internet connection for both data traffic and voice calls allows consumers to reduce their monthly phone bill. For international calls, the monetary savings can be enormous.</p> <p>The business advantages that drive implementations of VoIP networks have changed over time. Starting with simple media convergence, these advantages have evolved to include the convergence of call-switching intelligence and the total user experience. Originally, return on investment (ROI) calculations centered on toll-bypass and converged-network savings. Although these savings are still relevant today, advances in voice technologies allow organizations and service providers to differentiate their product offerings by providing advanced features.</p> <p>VoIP has a number of business advantages:</p> <p><ul><li> Lower telecom call costs are significant. VoIP service providers charge up to 50 percent less for phone connectivity service.</li><li> Productivity increases with VoIP phone service can be substantial. Some businesses have reported productivity increases of up to three hours per week, per employee. Features such as find me/follow me, remote office, click-to-call, Outlook integration, unified voice mail, conference calling, and collaboration tools enable productivity increases.</li><li> Move, add, and change costs are much lower. VoIP flexibility enables easily moving a phone between workstations.</li><li> Ongoing service and maintenance costs can be lower.</li><li> Many VoIP systems require little or no training for users.</li><li> Mobile phone charges decrease as employees make calls via their laptop instead of their mobile phone. These network calls are part of the network charges and cost only the amount of the Internet connection itself.</li><li> Telecommuting phone costs are decreased and there are no major setup fees. Voice communication takes place over a broadband connection.</li><li> VoIP enables unified messaging. Information systems are integrated.</li><li> Encryption of voice calls is supported.</li><li> Fewer administrative personnel are needed for answering telephones.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en2006040402">
<content-media type="StaticGraphic" id="cm1370076289">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040400/en2006040402/cm1370076289.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040400/en2006040402/cm1370076289text.xml"/></content-media>
<content-text><p>A packet voice network, or network that supports voice traffic, has a number of components:</p> <p><ul><li> <b>IP phones</b> - Provide IP voice to the desktop.</li><li> <b>Gatekeeper</b> - Provides Call Admission Control (CAC), bandwidth control and management, and address translation.</li><li> <b>Gateway</b> - Provides translation between VoIP and non-VoIP networks, such as the PSTN. Gateways also provide physical access for local analog and digital voice devices, such as telephones, fax machines, key sets, and PBXs.</li><li> <b>Multipoint control unit (MCU)</b> - Provides real-time connectivity for participants in multiple locations to attend the same videoconference or meeting.</li><li> <b>Call agent</b> - Provides call control for IP phones, CAC, bandwidth control and management, and address translation. Cisco Unified Communications Managers and Cisco Unified Communications Manager Business Edition both function as the call agents.</li><li> <b>Application servers</b> - Provide services such as voice mail and unified messaging, such as Cisco Unity.</li><li> <b>Videoconference station</b> - Provides access for end-user participation in videoconferencing. The videoconference station contains a video capture device for video input and a microphone for audio input. The user can view video streams and hear the audio that originates at a remote user station.</li></ul></p> <p>Other components, such as software voice applications, interactive voice response (IVR) systems, and softphones, provide additional services to meet the needs of enterprise sites.</p> <p>VoIP depends on a number of specialized protocols, including H.323, Media Gateway Control Protocol (MGCP), Session Initiation Protocol (SIP), skinny call control protocol (SCCP), and real-time protocol RTP.</p></content-text>
</page>
<page type="OneColumn" id="en2006040403">
<content-media type="StaticGraphic" id="cm1171097141">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040400/en2006040403/cm1171097141.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040400/en2006040403/cm1171097141text.xml"/></content-media>
<content-text><p>VoIP communication occurs over the traditional data network. That means that securing voice communication is directly related to securing the data network. There are several threats specific to VoIP networks.</p> <p><b>Unauthorized access to voice resources</b></p> <p>Hackers can tamper with voice systems, user identities, and telephone configurations, and intercept voice-mail messages. If hackers gain access to the voice-mail system, they can change the voice-mail greeting, which can have a negative impact on the image and reputation of the company. A hacker who gains access to the PBX or voice gateway can shut down voice ports or change voice-routing parameters, affecting voice access into and through the network.</p> <p><b>Compromising network resources</b></p> <p>The goal of a secure network is to ensure that applications, processes, and users can reliably and securely interoperate using the shared network resources. Because the shared network infrastructure carries voice and data, security and access to the network infrastructure are critical in securing voice functions. Because IP voice systems are installed on a data network, they are potential targets for hackers who previously targeted only PCs, servers, and data applications. Hackers are aided in their search for vulnerabilities in IP voice systems by the open and well-known standards and protocols that are used by IP networks.</p> <p><b>Eavesdropping</b></p> <p>Eavesdropping involves the unauthorized interception of voice packets or RTP media streams. Eavesdropping exposes confidential or proprietary information that is obtained by intercepting and reassembling packets in a voice stream. Hackers use a variety of tools to eavesdrop.</p> <p><b>DoS attacks</b></p> <p>DoS attacks are defined as the malicious attacking or overloading of call-processing equipment to deny access to services by legitimate users. Most DoS attacks fall into one of three categories:</p> <p><ul><li> <b>Network resource overload</b> involves overloading a network resource that is required for proper functioning of a service. The network resource is most often bandwidth. The DoS attack uses up all available bandwidth, causing authorized users to be unable to access the required services. </li><li> <b>Host resource starvation</b> involves using up critical host resources. When use of these resources is maximized by the DoS attack, the server can no longer respond to legitimate service requests. </li><li> <b>Out-of-bounds attack</b> involves using illegal packet structure and unexpected data, which can cause the operating system of the remote system to crash. One example of this type of attack is using illegal combinations of TCP flags. Most TCP/IP stacks are developed to respond to appropriate use; they are not developed for anomalies. When the stack receives illegal data, it might not know how to handle the packet, causing a system crash.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en2006040404">
<content-media type="StaticGraphic" id="cm4411742043">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040400/en2006040404/cm4411742043.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040400/en2006040404/cm4411742043text.xml"/></content-media>
<content-text><p>VoIP spam, or SPIT, is unsolicited and unwanted bulk messages broadcast over VoIP to the end users of an enterprise network. In addition to being annoying, high-volume bulk calls can significantly affect the availability and productivity of the endpoints. Because bulk calls are also difficult to trace, they can be used for fraud, unauthorized use, and privacy violations.</p> <p>Up to now, VoIP spam is infrequent, but it has the potential to become a major problem. SPIT could be generated in a similar way to email spam with botnets targeting millions of VoIP users from compromised machines.</p> <p>Spam has been a problem for years. Unsolicited commercial and malicious email spam now makes up the majority of email worldwide. For example, in Europe, according to analysts Radicati, 16 billion spam messages were sent each day in 2006, representing 62 percent of all European email messages. This figure is expected to increase to 37 billion spam emails a day by 2010. There is concern that VoIP will suffer the same fate as email.</p> <p>Another concern about SPIT is that email anti-spam methods will not work. The real-time nature of voice calls makes dealing with SPIT much more challenging than email spam. New methods have to be invented to address SPIT problems.</p> <p>Authenticated Transport Layer Security (TLS) stops most SPIT attacks, because endpoints only accept packets from trusted devices.</p></content-text>
</page>
<page type="OneColumn" id="en2006040405">
<content-media type="StaticGraphic" id="cm3955052636">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040400/en2006040405/cm3955052636.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040400/en2006040405/cm3955052636text.xml"/></content-media>
<content-text><p>Two common types of fraud in VoIP networks are vishing and toll fraud.</p> <p>Vishing (voice phishing) uses telephony to glean information, such as account details directly from users. One of the first reported cases of vishing affected PayPal. Victims first received an email pretending to come from PayPal asking them to verify their credit card details over the phone. Those who called the number were then asked to enter their credit card number using the keypad. After the credit card number had been entered, the perpetrators of this fraud were able to steal money from the account of their victims.</p> <p>Because of the lower cost of making VoIP calls as compared to standard phone systems, attackers can call thousands of people for very little cost. Users still trust the telephone more than the web, but these spamming techniques can undermine user confidence in VoIP.</p> <p>Toll fraud is the theft of long-distance telephone service by unauthorized access to a PSTN trunk (an outside line) on a PBX or voice-mail system. Toll fraud is a multibillion-dollar illegal industry, and all organizations are vulnerable. Theft can also be defined as the use of the telephony system by both authorized and unauthorized users to access unauthorized numbers, such as premium rate numbers.</p> <p>This fraud is not new and PBXs have always been vulnerable. The difference is that few people could hack into PBXs, compared to the numbers of people actively breaking into IP systems. To protect against such fraud, network administrators use features that exist in Cisco Unified Communications Manager to control phone calls, such as dial plan filters, partitions, or Forced Authorization Codes (FACs).</p> <p>Another growing VoIP security issue concerns SIP. The increasing adoption of SIP for VoIP is expected to open up a completely new front in the security war. SIP is a relatively new protocol that offers little inherent security. Some of its characteristics also leave it vulnerable to hackers, such as using text for encoding and SIP extensions that can create security holes.</p> <p>Examples of hacks for SIP include registration hijacking, which allows a hacker to intercept incoming calls and reroute them; message tampering, which allows a hacker to modify data packets traveling between SIP addresses; and session tear-down, which allows a hacker to terminate calls or carry out a VoIP-targeted DoS attack by flooding the system with shutdown requests.</p></content-text>
</page>
</topic>
<topic type="" id="en2006040500">
<title><content-text>VoIP Security Solutions</content-text></title>
<page type="OneColumn" id="en2006040501">
<content-media type="StaticGraphic" id="cm1938417485">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040500/en2006040501/cm1938417485.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040500/en2006040501/cm1938417485text.xml"/></content-media>
<content-text><p>Many IP security solutions can be implemented only on Layer 3 devices. Because of protocol architecture, Layer 2 offers very little or no inherent security. Understanding and establishing broadcast domains is one of the fundamental concepts in designing secure IP networks. Many simple yet dangerous attacks can be launched if the attacking device resides within the same broadcast domain as the target system. For this reason, IP phones, VoIP gateways, and network management workstations should always be on their own subnet, separate from the rest of the data network and from each other.</p> <p>To ensure communications privacy and integrity, voice media streams must be protected from eavesdropping and tampering. Data-networking technologies such as VLANs can segment voice traffic from data traffic, preventing access to the voice VLAN from the data VLAN. Using separate VLANs for voice and data prevents any attacker or attacking application from snooping or capturing other VLAN traffic as it traverses the physical wire. By making sure that each device connects to the network using a switched infrastructure, packet-sniffing tools can also be rendered less effective for capturing user traffic.</p> <p>Assigning voice traffic to specific VLANs to logically segment voice and data traffic is an industry-wide recommended practice. As much as possible, devices that are identified as voice devices should be restricted to dedicated voice VLANs. This approach ensures that they can communicate only with other voice resources. More importantly, voice traffic is kept away from the general data network, where it could be more easily intercepted or tampered with. Having a voice-specific VLAN makes it easier to apply VLAN access control lists (VACLs) to protect voice traffic.</p> <p>By understanding the protocols that are used between devices in the VoIP network, effective ACLs can be implemented on the voice VLANs. IP phones send only RTP traffic to each other, and they never have a reason to send TCP or ICMP traffic to each other. IP phones do send a few TCP and UDP protocols to communicate with servers. Many of the IP phone attacks can be stopped by using ACLs on the voice VLANs to prevent deviations from these principles.</p></content-text>
</page>
<page type="OneColumn" id="en2006040502">
<content-media type="StaticGraphic" id="cm2196659916">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040500/en2006040502/cm2196659916.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040500/en2006040502/cm2196659916text.xml"/></content-media>
<content-text><p>Firewalls inspect packets and match them against configured rules based on the ports specified. It is difficult to specify in advance which ports will be used in a voice call because the ports are dynamically negotiated during call setup.</p> <p>Cisco ASA Adaptive Security Appliances inspect voice protocols to ensure that SIP, SCCP, H.323, and MGCP requests conform to voice standards. Cisco ASA Adaptive Security Appliances can also provide these capabilities to help protect voice traffic:</p> <p><ul><li> Ensure SIP, SCCP, H.323, and MGCP requests conform to standards.</li><li> Prevent inappropriate SIP methods from being sent to Cisco Unified Communications Manager.</li><li> Rate limit SIP requests.</li><li> Enforce the policy of calls (whitelist, blacklist, caller/called party, SIP Uniform Resource Identifier).</li><li> Dynamically open ports for Cisco applications.</li><li> Enable only "registered phones" to make calls.</li><li> Enable inspection of encrypted phone calls.</li></ul></p> <p>Cisco IOS firewalls also provide many of these secure features.</p></content-text>
</page>
<page type="OneColumn" id="en2006040503">
<content-media type="StaticGraphic" id="cm6338364061">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040500/en2006040503/cm6338364061.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040500/en2006040503/cm6338364061text.xml"/></content-media>
<content-text><p>VPNs are widely used to provide secure connections to the corporate network. The connections can originate from a branch office, a small office/home office (SOHO), a telecommuter, or a roaming user. IPsec can be used for authentication and confidentiality services. To facilitate performance, it is recommended that VPN tunnels terminate inside of a firewall. The firewall is used to inspect and protect the plaintext protocols.</p> <p>When deploying VPNs across the Internet or a public network, it is important to consider the absence of QoS. Where possible, QoS should be addressed with the provider through a service level agreement (SLA). An SLA is a document that details the expected QoS parameters for packets that go through the provider network.</p> <p>Voice communications do not work well (or sometimes at all) with latency. Because secure VPNs encrypt data, they can create a throughput bottleneck when they process packets through their encryption algorithm. The problem usually gets worse as security increases.</p> <p>VoIP and either DES or 3DES encryptions are fully compatible with each other as long as the VPN delivers the necessary throughput. Internationally, corporations might face other issues that affect voice communications. The U.S. Department of Commerce places restrictions on the export of certain encryption technology. Usually, DES is exportable while 3DES is not. However, regulations take numerous forms, from total export exclusions that are applied to certain countries, to allowing 3DES export to specific industries and users. Most corporations with VPNs that extend outside the United States must find out if their VPN provider has exportable products and how export regulations affect networks built with those products.</p></content-text>
</page>
<page type="OneColumn" id="en2006040504">
<content-media type="StaticGraphic" id="cm8801445502">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040500/en2006040504/cm8801445502.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040500/en2006040504/cm8801445502text.xml"/></content-media>
<content-text><p>When securing voice traffic, do not forget to secure the voice application servers. The newer versions of Cisco Unified Communications Manager disable unnecessary services, disable default usernames, allow only signed images to be installed, have CSA installed, and support secure management protocols.</p> <p>By combining the transport security that is provided by secure LANs, firewalls, and VPNs with the application and host security features available with the Cisco Unified Communications Manager and Cisco IP phones, it is possible to have a highly secure IP telephony environment.</p></content-text>
</page>
</topic>
<topic type="" id="en2006040600">
<title><content-text>SAN Security Considerations</content-text></title>
<page type="OneColumn" id="en2006040601">
<content-media type="StaticGraphic" id="cm8599226465">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040600/en2006040601/cm8599226465.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040600/en2006040601/cm8599226465text.xml"/></content-media>
<content-text><p>A SAN is a specialized network that enables fast, reliable access among servers and external storage resources. In a SAN, a storage device is not the exclusive property of any one server. Rather, storage devices are shared among all networked servers as peer resources. Just as a LAN can be used to connect clients to servers, a SAN can be used to connect servers to storage, servers to each other, and storage to storage.</p> <p>A SAN does not need to be a physically separate network. It can be a dedicated subnet that carries only business-critical I/O traffic between servers and storage devices. A SAN, for example, would not carry general-purpose traffic such as email or other end-user applications. It would be limited to I/O traffic, such as reading a file from a disk or writing a file to a disk. This network approach helps avoid the unacceptable compromise and reduced performance that is inherent when a single network is used for all applications.</p> <p>Network and server downtime costs companies large sums of money in business and productivity losses. At the same time, the amount of information to be managed and stored is increasing dramatically every year.</p> <p>SANs offer an answer to the increasing volume of data that must be stored in an enterprise network environment. By implementing a SAN, users can offload storage traffic from the daily network operations and establish a direct connection between storage media and servers.</p> <p>SANs in enterprise infrastructures are evolving rapidly to meet three primary business requirements:</p> <p><ul><li> Reduce capital and operating expenses.</li><li> Increase agility to support changing business priorities, application requirements, and revenue growth.</li><li> Improve long-distance replication, backup, and recovery to meet regulatory requirements and industry best practices.</li></ul></p> <p>Cisco provides an enterprise-wide approach to deploying scalable, highly available, and more easily administered SANs. Cisco solutions for intelligent SANs are an integral part of an enterprise data center architecture. Cisco SAN solutions provide a preferred means of accessing, managing, and protecting information resources across a variety of SAN transport technologies. These include consolidated Fibre Channel, Fibre Channel over IP (FCIP), Internet Small Computer Systems Interface (iSCSI), Gigabit Ethernet, or optical network.</p></content-text>
</page>
<page type="OneColumn" id="en2006040602">
<content-media type="StaticGraphic" id="cm7454181643">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040600/en2006040602/cm7454181643.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040600/en2006040602/cm7454181643text.xml"/></content-media>
<content-text><p>All the major SAN transport technologies are based on the SCSI communications model. In many ways, a SAN can be described as the merging of SCSI and networking. SCSI command protocol is the de facto standard that is used extensively in high-performance storage applications. The command part of SCSI can be transported over a Fibre Channel SAN or encapsulated in IP and carried across IP networks.</p> <p>There are three major SAN transport technologies:</p> <p><ul><li> <b>Fibre Channel</b> - This technology is the primary SAN transport for host-to-SAN connectivity. Traditionally, SANs have required a separate dedicated infrastructure to interconnect hosts and storage systems. The primary transport protocol for this interconnection has been Fibre Channel. Fibre Channel networks provide a serial transport for the SCSI protocol.</li><li> <b>iSCSI - </b>Maps SCSI over TCP/IP. This is another host-to-SAN connectivity model that is typically used in the LAN. An iSCSI leverages an investment in existing IP networks to build and extend the SANs. This is accomplished by using TCP/IP to transport SCSI commands, data, and status between hosts or initiators and storage devices or targets, such as storage subsystems and tape devices.</li><li> <b>FCIP - </b>Popular SAN-to-SAN connectivity model that is often used over the WAN or MAN (metropolitan area network). SAN designers can use the open-standard FCIP protocol to break the distance barrier of current Fibre Channel solutions and enable interconnection of SAN islands over extended distances.</li></ul></p> <p>In computer storage, a logical unit number (LUN) is a 64-bit address for an individual disk drive and, by extension, the disk device itself. The term is used in the SCSI protocol as a way to differentiate individual disk drives within a common SCSI target device such as a disk array.</p> <p>LUN masking is an authorization process that makes a LUN available to some hosts and unavailable to other hosts. LUN masking is implemented primarily at the host bus adapter (HBA) level. LUN masking that is implemented at this level is vulnerable to any attack that compromises the HBA.</p> <p>The security benefits of LUN masking are limited because, with many HBAs, it is possible to forge source addresses. LUN masking is mainly a way to protect against misbehaving servers corrupting disks belonging to other servers.</p> <p>For example, Windows servers that are attached to a SAN sometimes corrupt non-Windows volumes by attempting to write Windows volume labels to them. By hiding the LUNs of the non-Windows volumes from the Windows server, this can be prevented because the Windows server does not even realize the non-Windows volumes exist.</p> <p>Today, LUNs are normally not individual disk drives but virtual partitions (or volumes) of a Redundant Array of Independent Disks (RAID) set. </p></content-text>
</page>
<page type="OneColumn" id="en2006040603">
<content-media type="StaticGraphic" id="cm1701340075">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040600/en2006040603/cm1701340075.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040600/en2006040603/cm1701340075text.xml"/></content-media>
<content-text><p>A world wide name (WWN) is a 64-bit address that Fibre Channel networks use to uniquely identify each element in a Fibre Channel network.</p> <p>Zoning can utilize WWNs to assign security permissions. Zoning can also use name servers in the switches to either allow or block access to particular WWNs in the fabric.</p> <p>The use of WWNs for security purposes is inherently insecure, because the WWN of a device is a user-configurable parameter. Zoning that uses WWNs is susceptible to unauthorized access, because the zone can be bypassed if an attacker is able to spoof the WWN of an authorized host bus adapter (HBA). An HBA is an I/O adapter that sits between the bus of the host computer and the Fibre Channel loop and manages the transfer of information between the two channels.</p></content-text>
</page>
<page type="OneColumn" id="en2006040604">
<content-media type="StaticGraphic" id="cm4879370139">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040600/en2006040604/cm4879370139.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040600/en2006040604/cm4879370139text.xml"/></content-media>
<content-text><p>In storage networking, Fibre Channel zoning is the partitioning of a Fibre Channel fabric into smaller subsets. If a SAN contains several storage devices, one device should not necessarily be allowed to interact with all the other devices in the SAN.</p> <p>Zoning is sometimes confused with LUN masking, because both processes have the same objectives. The difference is that zoning is implemented on fabric switches while LUN masking is performed on endpoint devices. Zoning is also potentially more secure. Zone members see only other members of the zone. Devices can be members of more than one zone.</p> <p>There are some simple rules to keep in mind for zoning operation:</p> <p><ul><li> Zone members see only other members of the zone.</li><li> Zones can be configured dynamically based on WWN.</li><li> Devices can be members of more than one zone.</li><li> Switched fabric zoning can take place at the port or device level, based on the physical switch port, device WWN, or LUN ID.</li></ul></p> <p>Fibre Channel fabric zoning has the benefit of securing device access and allowing operating system coexistence. Zoning applies only to the switched fabric topology; it does not exist in simpler Fibre Channel topologies.</p></content-text>
</page>
<page type="OneColumn" id="en2006040605">
<content-media type="StaticGraphic" id="cm2004895453">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040600/en2006040605/cm2004895453.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040600/en2006040605/cm2004895453text.xml"/></content-media>
<content-text><p>A virtual storage area network (VSAN) is a collection of ports from a set of connected Fibre Channel switches that form a virtual fabric. Ports can be paritioned within a single switch into multiple VSANs. Additionally, multiple switches can join any number of ports to form a single VSAN. In this manner, VSANs strongly resemble VLANs. Like VLANs, traffic is tagged as it crosses inter-switch links with the VSAN ID.</p> <p>Fabric events are isolated per VSAN. VSANs utilize hardware-based isolation, meaning that traffic is explicitly tagged across inter-switch links with VSAN membership information. Statistics can also be gathered on a per-VSAN basis.</p> <p>VSANs were originally invented by Cisco, but they have now been adopted as an ANSI standard.</p></content-text>
</page>
</topic>
<topic type="" id="en2006040700">
<title><content-text>SAN Security Solutions</content-text></title>
<page type="OneColumn" id="en2006040701">
<content-media type="StaticGraphic" id="cm8101388192">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040700/en2006040701/cm8101388192.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040700/en2006040701/cm8101388192text.xml"/></content-media>
<content-text><p>In order to secure SANs, it is necessary to secure the SAN fabric, any attaching hosts, and the actual disks. </p> <p>There are six critical areas to consider when securing a SAN:</p> <p><ul><li> <b>SAN management</b> - Secure the management services that are used to administer the SAN.</li><li> <b>Fabric access</b> - Secure access to the fabric. The SAN fabric refers to the hardware that connects servers to storage devices.</li><li> <b>Target access</b> - Secure access to storage devices (targets) and LUNs.</li><li> <b>SAN protocols</b> - Secure the protocols that are used in switch-to-switch communication.</li><li> <b>IP storage access</b> - Secure FCIP and iSCSI.</li><li> <b>Data integrity and secrecy</b> - Encrypt data as it crosses networks as well as when stored on disks.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en2006040702">
<content-media type="StaticGraphic" id="cm6910227728">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040700/en2006040702/cm6910227728.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040700/en2006040702/cm6910227728text.xml"/></content-media>
<content-text><p>There are several types of SAN-management tools available that can manage device-level performance and application-level performance, as well as offer reporting and monitoring of services. Whatever SAN-management tool is used, ensure that access to the management tool is secure. When managing a SAN, there are other security concerns to consider:</p> <p><ul><li> <b>Disruption of switch processing</b> - A DoS attack can cause excessive load on the CPU, rendering the CPU unable to react to fabric events.</li><li> <b>Compromise of fabric</b> - Changed configurations or lost configurations can result in changes to the configured services or ports.</li><li> <b>Compromise of data integrity and confidentiality</b> - Breaching the actual data compromises the integrity and confidentiality of stored information.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="en2006040703">
<content-media type="StaticGraphic" id="cm6254604909">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040700/en2006040703/cm6254604909.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040700/en2006040703/cm6254604909text.xml"/></content-media>
<content-text><p>To ensure application data integrity, LUN integrity, and application performance, it is necessary to secure both fabric and target access. </p> <p>If fabric and target access are not secure, this can result in unauthorized access to data. Unauthorized access means that integrity and confidentiality have both been breached. Data may also be corrupted or deleted. If the LUN is compromised either accidentally or intentionally, data can be lost and availability can be threatened. Finally, application performance and availability can be affected by unnecessary I/O or fabric events because the processor is kept busier than required. </p> <p>To prevent these types of issues, use VSANs and zoning.</p></content-text>
</page>
<page type="OneColumn" id="en2006040704">
<content-media type="StaticGraphic" id="cm9770399114">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040700/en2006040704/cm9770399114.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040700/en2006040704/cm9770399114text.xml"/></content-media>
<content-text><p>VSANs and zones are complementary technologies that work well together as a security control in a SAN. The first step in configuring these complimentary protocols is to associate the physical ports with a VSAN, much like associating switch ports with VLANs, and then logically dividing the VSANs into zones.</p> <p>Zoning is the prime mechanism for securing access to SAN targets (disk and tape). There are two main methods of zoning, hard and soft. Soft zoning restricts the fabric name services, showing a device only an allowed subset of devices. When a server looks at the content of the fabric, it sees only the devices that it is allowed to see. However, any server can still attempt to contact other devices on the network based on their addresses.</p> <p>In contrast, hard zoning restricts communication across a fabric. This zoning is more commonly used because it is more secure.</p></content-text>
</page>
<page type="OneColumn" id="en2006040705">
<content-media type="StaticGraphic" id="cm3137045901">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006040000/en2006040700/en2006040705/cm3137045901.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006040000/en2006040700/en2006040705/cm3137045901text.xml"/></content-media>
<content-text><p>To secure data during transmission, a number of techniques are employed. iSCSI leverages many strategies that are common to IP networking. For example, IP ACLs are analogous to Fibre Channel zones, VLANs are similar to VSANs, and IEEE 802.1X port security resembles Fibre Channel port security.</p> <p>For data transmission security, a number of encryption and authentication protocols are supported:</p> <p><ul><li> Diffie-Hellman Challenge Handshake Authentication Protocol (DH-CHAP)</li><li> Fibre Channel Authentication Protocol (FCAP)</li><li> Fibre Channel Password Authentication Protocol (FCPAP)</li><li> Encapsulating Security Payload (ESP)</li><li> Fibre Channel Security Protocol (FC-SP)</li></ul></p> <p>FCIP security leverages many IP security features in Cisco IOS-based routers:</p> <p><ul><li> IPsec for security over public carriers</li><li> High-speed encryption services in specialized hardware</li><li> Firewall filtering</li></ul></p> <p>Securing SANs completes the process of securing the LAN: secure the endpoints, the switches, the wireless environment, the VoIP infrastructure, and the SANs.</p> <p>In securing the LAN, a number of references to IPsec have been made. IPsec is a means of encrypting data between endpoints, such as within a VPN tunnel. To understand how IPsec works, a basic understanding of cryptography is necessary. </p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="en2006050000">
<title><content-text>Chapter Summary</content-text></title>
<topic type="" id="en2006050100">
<title><content-text>Chapter Summary</content-text></title>
<page type="FullScreen" id="en2006050101">
<content-media type="StaticGraphic" id="cm1238727315">	<title><content-text></content-text></title>	<media ref="en2006000000/en2006050000/en2006050100/en2006050101/cm1238727315.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="en2006000000/en2006050000/en2006050100/en2006050101/cm1238727315text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
</chapter>
